(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const r of l.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerpolicy&&(l.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?l.credentials="include":i.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();function L(){}const Ye=t=>t;function xt(t,e){for(const n in e)t[n]=e[n];return t}function kt(t){return t()}function lt(){return Object.create(null)}function Z(t){t.forEach(kt)}function Ee(t){return typeof t=="function"}function X(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Ie;function de(t,e){return Ie||(Ie=document.createElement("a")),Ie.href=e,t===Ie.href}function Lt(t){return Object.keys(t).length===0}function Nt(t,...e){if(t==null)return L;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function ue(t,e,n){t.$$.on_destroy.push(Nt(e,n))}function Ve(t,e,n,s){if(t){const i=Mt(t,e,n,s);return t[0](i)}}function Mt(t,e,n,s){return t[1]&&s?xt(n.ctx.slice(),t[1](s(e))):n.ctx}function Ze(t,e,n,s){if(t[2]&&s){const i=t[2](s(n));if(e.dirty===void 0)return i;if(typeof i=="object"){const l=[],r=Math.max(e.dirty.length,i.length);for(let o=0;o<r;o+=1)l[o]=e.dirty[o]|i[o];return l}return e.dirty|i}return e.dirty}function et(t,e,n,s,i,l){if(i){const r=Mt(e,n,s,l);t.p(r,i)}}function tt(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let s=0;s<n;s++)e[s]=-1;return e}return-1}function Y(t,e,n){return t.set(n),e}function Ot(t){return t&&Ee(t.destroy)?t.destroy:L}const Pt=typeof window<"u";let nt=Pt?()=>window.performance.now():()=>Date.now(),st=Pt?t=>requestAnimationFrame(t):L;const we=new Set;function zt(t){we.forEach(e=>{e.c(t)||(we.delete(e),e.f())}),we.size!==0&&st(zt)}function it(t){let e;return we.size===0&&st(zt),{promise:new Promise(n=>{we.add(e={c:t,f:n})}),abort(){we.delete(e)}}}function g(t,e){t.appendChild(e)}function $t(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Wt(t){const e=w("style");return At($t(t),e),e.sheet}function At(t,e){return g(t.head||t,e),e.sheet}function P(t,e,n){t.insertBefore(e,n||null)}function k(t){t.parentNode.removeChild(t)}function Dt(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function w(t){return document.createElement(t)}function ye(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function A(t){return document.createTextNode(t)}function S(){return A(" ")}function qt(){return A("")}function q(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function Ft(t){return function(e){return e.preventDefault(),t.call(this,e)}}function d(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Bt(t){return Array.from(t.childNodes)}function pe(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function Ht(t,e,n,s){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,s?"important":"")}function at(t,e){for(let n=0;n<t.options.length;n+=1){const s=t.options[n];if(s.__value===e){s.selected=!0;return}}t.selectedIndex=-1}function Yt(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function Ct(t,e,{bubbles:n=!1,cancelable:s=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n,s,e),i}const De=new Map;let qe=0;function Gt(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function Xt(t,e){const n={stylesheet:Wt(e),rules:{}};return De.set(t,n),n}function Fe(t,e,n,s,i,l,r,o=0){const u=16.666/s;let c=`{
`;for(let y=0;y<=1;y+=u){const v=e+(n-e)*l(y);c+=y*100+`%{${r(v,1-v)}}
`}const f=c+`100% {${r(n,1-n)}}
}`,h=`__svelte_${Gt(f)}_${o}`,a=$t(t),{stylesheet:p,rules:z}=De.get(a)||Xt(a,t);z[h]||(z[h]=!0,p.insertRule(`@keyframes ${h} ${f}`,p.cssRules.length));const b=t.style.animation||"";return t.style.animation=`${b?`${b}, `:""}${h} ${s}ms linear ${i}ms 1 both`,qe+=1,h}function Be(t,e){const n=(t.style.animation||"").split(", "),s=n.filter(e?l=>l.indexOf(e)<0:l=>l.indexOf("__svelte")===-1),i=n.length-s.length;i&&(t.style.animation=s.join(", "),qe-=i,qe||Jt())}function Jt(){st(()=>{qe||(De.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&k(e)}),De.clear())})}let Te;function Se(t){Te=t}function ke(){if(!Te)throw new Error("Function called outside component initialization");return Te}function Kt(t){ke().$$.on_mount.push(t)}function St(t){ke().$$.on_destroy.push(t)}function Ut(){const t=ke();return(e,n,{cancelable:s=!1}={})=>{const i=t.$$.callbacks[e];if(i){const l=Ct(e,n,{cancelable:s});return i.slice().forEach(r=>{r.call(t,l)}),!l.defaultPrevented}return!0}}function Qt(t,e){return ke().$$.context.set(t,e),e}function Vt(t){return ke().$$.context.get(t)}function Zt(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(s=>s.call(this,e))}const Ce=[],se=[],Le=[],Je=[],en=Promise.resolve();let Ke=!1;function tn(){Ke||(Ke=!0,en.then(Tt))}function U(t){Le.push(t)}function nn(t){Je.push(t)}const Xe=new Set;let xe=0;function Tt(){const t=Te;do{for(;xe<Ce.length;){const e=Ce[xe];xe++,Se(e),sn(e.$$)}for(Se(null),Ce.length=0,xe=0;se.length;)se.pop()();for(let e=0;e<Le.length;e+=1){const n=Le[e];Xe.has(n)||(Xe.add(n),n())}Le.length=0}while(Ce.length);for(;Je.length;)Je.pop()();Ke=!1,Xe.clear(),Se(t)}function sn(t){if(t.fragment!==null){t.update(),Z(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(U)}}let $e;function rt(){return $e||($e=Promise.resolve(),$e.then(()=>{$e=null})),$e}function he(t,e,n){t.dispatchEvent(Ct(`${e?"intro":"outro"}${n}`))}const Ne=new Set;let K;function Oe(){K={r:0,c:[],p:K}}function We(){K.r||Z(K.c),K=K.p}function T(t,e){t&&t.i&&(Ne.delete(t),t.i(e))}function W(t,e,n,s){if(t&&t.o){if(Ne.has(t))return;Ne.add(t),K.c.push(()=>{Ne.delete(t),s&&(n&&t.d(1),s())}),t.o(e)}else s&&s()}const ot={duration:0};function rn(t,e,n){let s=e(t,n),i=!1,l,r,o=0;function u(){l&&Be(t,l)}function c(){const{delay:h=0,duration:a=300,easing:p=Ye,tick:z=L,css:b}=s||ot;b&&(l=Fe(t,0,1,a,h,p,b,o++)),z(0,1);const y=nt()+h,v=y+a;r&&r.abort(),i=!0,U(()=>he(t,!0,"start")),r=it(R=>{if(i){if(R>=v)return z(1,0),he(t,!0,"end"),u(),i=!1;if(R>=y){const N=p((R-y)/a);z(N,1-N)}}return i})}let f=!1;return{start(){f||(f=!0,Be(t),Ee(s)?(s=s(),rt().then(c)):c())},invalidate(){f=!1},end(){i&&(u(),i=!1)}}}function on(t,e,n){let s=e(t,n),i=!0,l;const r=K;r.r+=1;function o(){const{delay:u=0,duration:c=300,easing:f=Ye,tick:h=L,css:a}=s||ot;a&&(l=Fe(t,1,0,c,u,f,a));const p=nt()+u,z=p+c;U(()=>he(t,!1,"start")),it(b=>{if(i){if(b>=z)return h(0,1),he(t,!1,"end"),--r.r||Z(r.c),!1;if(b>=p){const y=f((b-p)/c);h(1-y,y)}}return i})}return Ee(s)?rt().then(()=>{s=s(),o()}):o(),{end(u){u&&s.tick&&s.tick(1,0),i&&(l&&Be(t,l),i=!1)}}}function ut(t,e,n,s){let i=e(t,n),l=s?0:1,r=null,o=null,u=null;function c(){u&&Be(t,u)}function f(a,p){const z=a.b-l;return p*=Math.abs(z),{a:l,b:a.b,d:z,duration:p,start:a.start,end:a.start+p,group:a.group}}function h(a){const{delay:p=0,duration:z=300,easing:b=Ye,tick:y=L,css:v}=i||ot,R={start:nt()+p,b:a};a||(R.group=K,K.r+=1),r||o?o=R:(v&&(c(),u=Fe(t,l,a,z,p,b,v)),a&&y(0,1),r=f(R,z),U(()=>he(t,a,"start")),it(N=>{if(o&&N>o.start&&(r=f(o,z),o=null,he(t,r.b,"start"),v&&(c(),u=Fe(t,l,r.b,r.duration,0,b,i.css))),r){if(N>=r.end)y(l=r.b,1-l),he(t,r.b,"end"),o||(r.b?c():--r.group.r||Z(r.group.c)),r=null;else if(N>=r.start){const G=N-r.start;l=r.a+r.d*b(G/r.duration),y(l,1-l)}}return!!(r||o)}))}return{run(a){Ee(i)?rt().then(()=>{i=i(),h(a)}):h(a)},end(){c(),r=o=null}}}const ln=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function an(t,e,n){const s=t.$$.props[e];s!==void 0&&(t.$$.bound[s]=n,n(t.$$.ctx[s]))}function ie(t){t&&t.c()}function Q(t,e,n,s){const{fragment:i,on_mount:l,on_destroy:r,after_update:o}=t.$$;i&&i.m(e,n),s||U(()=>{const u=l.map(kt).filter(Ee);r?r.push(...u):Z(u),t.$$.on_mount=[]}),o.forEach(U)}function V(t,e){const n=t.$$;n.fragment!==null&&(Z(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function un(t,e){t.$$.dirty[0]===-1&&(Ce.push(t),tn(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ee(t,e,n,s,i,l,r,o=[-1]){const u=Te;Se(t);const c=t.$$={fragment:null,ctx:null,props:l,update:L,not_equal:i,bound:lt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:lt(),dirty:o,skip_bound:!1,root:e.target||u.$$.root};r&&r(c.root);let f=!1;if(c.ctx=n?n(t,e.props||{},(h,a,...p)=>{const z=p.length?p[0]:a;return c.ctx&&i(c.ctx[h],c.ctx[h]=z)&&(!c.skip_bound&&c.bound[h]&&c.bound[h](z),f&&un(t,h)),a}):[],c.update(),f=!0,Z(c.before_update),c.fragment=s?s(c.ctx):!1,e.target){if(e.hydrate){const h=Bt(e.target);c.fragment&&c.fragment.l(h),h.forEach(k)}else c.fragment&&c.fragment.c();e.intro&&T(t.$$.fragment),Q(t,e.target,e.anchor,e.customElement),Tt()}Se(u)}class te{$destroy(){V(this,1),this.$destroy=L}$on(e,n){const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(n),()=>{const i=s.indexOf(n);i!==-1&&s.splice(i,1)}}$set(e){this.$$set&&!Lt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const cn=["focus","blur","fullscreenchange","fullscreenerror","scroll","cut","copy","paste","keydown","keypress","keyup","auxclick","click","contextmenu","dblclick","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseout","mouseup","pointerlockchange","pointerlockerror","select","wheel","drag","dragend","dragenter","dragstart","dragleave","dragover","drop","touchcancel","touchend","touchmove","touchstart","pointerover","pointerenter","pointerdown","pointermove","pointerup","pointercancel","pointerout","pointerleave","gotpointercapture","lostpointercapture"];function fn(){const t=ke();return e=>{const n=cn.map(s=>q(e,s,i=>Zt(t,i)));return{destroy:()=>n.forEach(s=>s())}}}class hn{constructor(){this.register=this.register.bind(this),this.unregister=this.unregister.bind(this),this.redraw=this.redraw.bind(this),this.resize=this.resize.bind(this),this.render=this.render.bind(this),this.currentLayerId=0,this.setups=new Map,this.renderers=new Map,this.needsSetup=!1,this.needsResize=!0,this.needsRedraw=!0,this.layerSequence=[]}redraw(){this.needsRedraw=!0}resize(){this.needsResize=!0,this.needsRedraw=!0}register({setup:e,render:n}){return e&&(this.setups.set(this.currentLayerId,e),this.needsSetup=!0),this.renderers.set(this.currentLayerId,n),this.needsRedraw=!0,this.currentLayerId++}unregister(e){this.renderers.delete(e),this.needsRedraw=!0}render({autoclear:e,pixelRatio:n,context:s,width:i,height:l}){const r={context:s,width:i,height:l};if(this.needsResize&&(s.setTransform(n,0,0,n,0,0),this.needsResize=!1),this.needsSetup){for(const[o,u]of this.setups)u(r),this.setups.delete(o);this.needsSetup=!1}if(this.needsRedraw){e&&s.clearRect(0,0,i,l);for(const o of this.layerSequence)this.renderers.get(o)(r);this.needsRedraw=!1}}}function dn(t){let e,n,s,i,l,r,o,u,c;const f=t[13].default,h=Ve(f,t,t[12],null);return{c(){e=w("canvas"),l=S(),r=w("div"),h&&h.c(),d(e,"style",n="display: block; width: "+t[1]+"px; height: "+t[2]+"px;"+(t[3]?` ${t[3]}`:"")),d(e,"width",s=t[1]*t[0]),d(e,"height",i=t[2]*t[0]),Ht(r,"display","none")},m(a,p){P(a,e,p),t[14](e),P(a,l,p),P(a,r,p),h&&h.m(r,null),t[15](r),o=!0,u||(c=Ot(t[6].call(null,e)),u=!0)},p(a,[p]){(!o||p&14&&n!==(n="display: block; width: "+a[1]+"px; height: "+a[2]+"px;"+(a[3]?` ${a[3]}`:"")))&&d(e,"style",n),(!o||p&3&&s!==(s=a[1]*a[0]))&&d(e,"width",s),(!o||p&5&&i!==(i=a[2]*a[0]))&&d(e,"height",i),h&&h.p&&(!o||p&4096)&&et(h,f,a,a[12],o?Ze(f,a[12],p,null):tt(a[12]),null)},i(a){o||(T(h,a),o=!0)},o(a){W(h,a),o=!1},d(a){a&&k(e),t[14](null),a&&k(l),a&&k(r),h&&h.d(a),t[15](null),u=!1,c()}}}const Et={};function pn(t,e,n){let{$$slots:s={},$$scope:i}=e,{width:l=640,height:r=640,pixelRatio:o=void 0,style:u=null,autoclear:c=!0}=e,f,h,a,p,z;const b=fn(),y=new hn;function v(){y.redraw()}function R(){return f}function N(){return h}o===void 0&&(typeof window>"u"?o=2:o=window.devicePixelRatio);function G(){y.render({context:h,width:l,height:r,pixelRatio:o,autoclear:c}),a=window.requestAnimationFrame(G)}Qt(Et,{register:y.register,unregister:y.unregister,redraw:y.redraw}),Kt(()=>{h=f.getContext("2d"),z=new MutationObserver($),z.observe(p,{childList:!0}),$(),G();function $(){const me=[...p.children].map(O=>+O.dataset.layerId);n(11,y.layerSequence=me,y),y.redraw()}}),St(()=>{typeof window>"u"||(window.cancelAnimationFrame(a),z.disconnect())});function I($){se[$?"unshift":"push"](()=>{f=$,n(4,f)})}function C($){se[$?"unshift":"push"](()=>{p=$,n(5,p)})}return t.$$set=$=>{"width"in $&&n(1,l=$.width),"height"in $&&n(2,r=$.height),"pixelRatio"in $&&n(0,o=$.pixelRatio),"style"in $&&n(3,u=$.style),"autoclear"in $&&n(7,c=$.autoclear),"$$scope"in $&&n(12,i=$.$$scope)},t.$$.update=()=>{t.$$.dirty&2183&&y.resize()},[o,l,r,u,f,p,b,c,v,R,N,y,i,s,I,C]}class mn extends te{constructor(e){super(),ee(this,e,pn,dn,X,{width:1,height:2,pixelRatio:0,style:3,autoclear:7,redraw:8,getCanvas:9,getContext:10})}get redraw(){return this.$$.ctx[8]}get getCanvas(){return this.$$.ctx[9]}get getContext(){return this.$$.ctx[10]}}function gn(t){let e;return{c(){e=w("div"),d(e,"data-layer-id",t[0])},m(n,s){P(n,e,s)},p:L,i:L,o:L,d(n){n&&k(e)}}}function _n(t,e,n){const{register:s,unregister:i,redraw:l}=Vt(Et);let{setup:r=void 0,render:o=()=>{}}=e;if(typeof r!="function"&&r!==void 0)throw new Error("setup must be a function");if(typeof o!="function")throw new Error("render must be a function");const u=s({setup:r,render:o});return St(()=>i(u)),t.$$set=c=>{"setup"in c&&n(1,r=c.setup),"render"in c&&n(2,o=c.render)},t.$$.update=()=>{t.$$.dirty&4&&l()},[u,r,o]}class bn extends te{constructor(e){super(),ee(this,e,_n,gn,X,{setup:1,render:2})}}const be=[];function wn(t,e){return{subscribe:Me(t,e).subscribe}}function Me(t,e=L){let n;const s=new Set;function i(o){if(X(t,o)&&(t=o,n)){const u=!be.length;for(const c of s)c[1](),be.push(c,t);if(u){for(let c=0;c<be.length;c+=2)be[c][0](be[c+1]);be.length=0}}}function l(o){i(o(t))}function r(o,u=L){const c=[o,u];return s.add(c),s.size===1&&(n=e(i)||L),o(t),()=>{s.delete(c),s.size===0&&(n(),n=null)}}return{set:i,update:l,subscribe:r}}let ct;const jt=Date.now();function Rt(t){return t(Date.now()-jt),ct=window.requestAnimationFrame(()=>Rt(t)),()=>window.cancelAnimationFrame(ct)}function yn(){}wn(Date.now()-jt,typeof window>"u"?yn:Rt);const vn="/jigsaw-svelte/assets/puzzle.7b2c6e4e.wav";class kn{constructor(e,n,s,i,l,r){this.width=l,this.height=r,this.i=e,this.j=n,this.correctPos={x:s.x,y:s.y},this.currentPos={x:i.x,y:i.y},this.path=null,this.borderpath=null,this.shape={},this.solved=!1}draw(e,n,s,i,l=i){const r=Math.min(this.width,this.height),o=.08*r,u=.2*r,c=.2*r;let f=this.currentPos.x+s;this.path=new Path2D,this.path.moveTo(f,this.currentPos.y),this.shape.top&&(this.path.lineTo(f+this.width*Math.abs(this.shape.top)-o,this.currentPos.y),this.path.bezierCurveTo(f+this.width*Math.abs(this.shape.top)-o,this.currentPos.y-c*Math.sign(this.shape.top)*.2,f+this.width*Math.abs(this.shape.top)-u,this.currentPos.y-c*Math.sign(this.shape.top),f+this.width*Math.abs(this.shape.top),this.currentPos.y-c*Math.sign(this.shape.top)),this.path.bezierCurveTo(f+this.width*Math.abs(this.shape.top)+u,this.currentPos.y-c*Math.sign(this.shape.top),f+this.width*Math.abs(this.shape.top)+o,this.currentPos.y-c*Math.sign(this.shape.top)*.2,f+this.width*Math.abs(this.shape.top)+o,this.currentPos.y)),this.path.lineTo(f+this.width,this.currentPos.y),this.shape.right&&(this.path.lineTo(f+this.width,this.currentPos.y+this.height*Math.abs(this.shape.right)-o),this.path.bezierCurveTo(f+this.width-c*Math.sign(this.shape.right)*.2,this.currentPos.y+this.height*Math.abs(this.shape.right)-o,f+this.width-c*Math.sign(this.shape.right),this.currentPos.y+this.height*Math.abs(this.shape.right)-u,f+this.width-c*Math.sign(this.shape.right),this.currentPos.y+this.height*Math.abs(this.shape.right)),this.path.bezierCurveTo(f+this.width-c*Math.sign(this.shape.right),this.currentPos.y+this.height*Math.abs(this.shape.right)+u,f+this.width-c*Math.sign(this.shape.right)*.2,this.currentPos.y+this.height*Math.abs(this.shape.right)+o,f+this.width,this.currentPos.y+this.height*Math.abs(this.shape.right)+o)),this.path.lineTo(f+this.width,this.currentPos.y+this.height),this.shape.bottom&&(this.path.lineTo(f+this.width*Math.abs(this.shape.bottom)+o,this.currentPos.y+this.height),this.path.bezierCurveTo(f+this.width*Math.abs(this.shape.bottom)+o,this.currentPos.y+this.height+c*Math.sign(this.shape.bottom)*.2,f+this.width*Math.abs(this.shape.bottom)+u,this.currentPos.y+this.height+c*Math.sign(this.shape.bottom),f+this.width*Math.abs(this.shape.bottom),this.currentPos.y+this.height+c*Math.sign(this.shape.bottom)),this.path.bezierCurveTo(f+this.width*Math.abs(this.shape.bottom)-u,this.currentPos.y+this.height+c*Math.sign(this.shape.bottom),f+this.width*Math.abs(this.shape.bottom)-o,this.currentPos.y+this.height+c*Math.sign(this.shape.bottom)*.2,f+this.width*Math.abs(this.shape.bottom)-o,this.currentPos.y+this.height)),this.path.lineTo(f,this.currentPos.y+this.height),this.shape.left&&(this.path.lineTo(f,this.currentPos.y+this.height*Math.abs(this.shape.left)+o),this.path.bezierCurveTo(f+c*Math.sign(this.shape.left)*.2,this.currentPos.y+this.height*Math.abs(this.shape.left)+o,f+c*Math.sign(this.shape.left),this.currentPos.y+this.height*Math.abs(this.shape.left)+u,f+c*Math.sign(this.shape.left),this.currentPos.y+this.height*Math.abs(this.shape.left)),this.path.bezierCurveTo(f+c*Math.sign(this.shape.left),this.currentPos.y+this.height*Math.abs(this.shape.left)-u,f+c*Math.sign(this.shape.left)*.2,this.currentPos.y+this.height*Math.abs(this.shape.left)-o,f,this.currentPos.y+this.height*Math.abs(this.shape.left)-o)),this.path.lineTo(f,this.currentPos.y),e.save(),e.clip(this.path);let h=n.naturalWidth/l,a=n.naturalHeight/i,p=Math.min(h,a)*c/r;e.drawImage(n,this.i*h-p,this.j*a-p,h+p*2,a+p*2,f-c,this.currentPos.y-c,this.width+c*2,this.height+c*2),e.restore(),e.stroke(this.path)}}const fe=Me(5),Ae=Me(.4),Ue=Me(null),ve=Me(!1),He=Me(!1),{window:Qe}=ln;function Mn(t){let e,n;return e=new bn({props:{render:t[4],setup:t[10]}}),{c(){ie(e.$$.fragment)},m(s,i){Q(e,s,i),n=!0},p(s,i){const l={};i[0]&16&&(l.render=s[4]),e.$set(l)},i(s){n||(T(e.$$.fragment,s),n=!0)},o(s){W(e.$$.fragment,s),n=!1},d(s){V(e,s)}}}function Pn(t){let e,n,s,i,l,r,o,u;U(t[15]);let c={width:t[0],height:t[5],style:"margin: 0 auto; touch-action: none; cursor: "+t[1]+";",$$slots:{default:[Mn]},$$scope:{ctx:t}};return e=new mn({props:c}),t[16](e),e.$on("mousedown",t[17]),e.$on("mousemove",t[18]),e.$on("mouseup",t[19]),e.$on("touchstart",t[20]),e.$on("touchmove",t[21]),e.$on("touchend",t[22]),{c(){ie(e.$$.fragment),n=S(),s=w("audio"),i=w("track"),d(i,"kind","captions"),de(s.src,l=vn)||d(s,"src",l),d(s,"preload","auto"),d(s,"class","hidden"),s.controls=!0},m(f,h){Q(e,f,h),P(f,n,h),P(f,s,h),g(s,i),t[23](s),r=!0,o||(u=[q(Qe,"resize",t[9]),q(Qe,"resize",t[15])],o=!0)},p(f,h){const a={};h[0]&1&&(a.width=f[0]),h[0]&2&&(a.style="margin: 0 auto; touch-action: none; cursor: "+f[1]+";"),h[0]&16|h[1]&512&&(a.$$scope={dirty:h,ctx:f}),e.$set(a)},i(f){r||(T(e.$$.fragment,f),r=!0)},o(f){W(e.$$.fragment,f),r=!1},d(f){t[16](null),V(e,f),f&&k(n),f&&k(s),t[23](null),o=!1,Z(u)}}}const zn=.7;function $n(t,e,n){let s,{img:i}=e,l;fe.subscribe(m=>{l=m});let r;Ae.subscribe(m=>{n(12,r=m)}),window.devicePixelRatio=1;const o=l,u=l;let c=window.innerWidth;const f=window.innerHeight,h=zn*Math.min(c/i.naturalWidth,f/i.naturalHeight),a=h*i.naturalWidth,p=h*i.naturalHeight;let z=c/2-a/2,b=[],y,v,R=0,N="default";function G(m,D,E){for(let M=0;M<m.length;M++)m[M].currentPos.x=Math.floor(Math.random()*D)-z,m[M].currentPos.y=Math.floor(Math.random()*E)}let I;function C(m,D,E=null){let M=I.getContext();for(let _=b.length-1;_>=0;_--)if(M.isPointInPath(b[_].path,m,D)){v=b[_];break}if(v){E&&E.preventDefault(),n(1,N="grab"),y={x:m-v.currentPos.x,y:D-v.currentPos.y};let _=b.splice(b.findIndex(j=>j.j==v.j&&j.i==v.i),1);b.push(_[0]),n(14,b)}}function $(m,D,E=null){y&&(E&&E.preventDefault(),v.currentPos.x=m-y.x,v.currentPos.y=D-y.y,n(14,b))}function me(){R===b.length&&ve.update(D=>!0)}let O;function ge(){let m=null;if(v){n(1,N="default");let D=30;const E=b.findIndex(M=>M.j==v.j&&M.i==v.i);if(Math.abs(v.currentPos.x-v.correctPos.x)<D&&Math.abs(v.currentPos.y-v.correctPos.y)<D){O.play(),m=setTimeout(()=>{O.pause(),n(3,O.currentTime=0,O)},500),v.currentPos.x=v.correctPos.x,v.currentPos.y=v.correctPos.y;let M=b.splice(E,1);v.solved||(M[0].solved=!0,R=R+1),m&&clearTimeout(m),b.unshift(M[0]),n(14,b)}else v.solved&&(n(14,b[E].solved=!1,b),R=R-1);y=null,v=null}me()}function Pe(){n(13,z=c/2-a/2),I.redraw()}let re;function je(){clearTimeout(re),re=setTimeout(Pe,100)}const ce=({context:m,width:D,height:E})=>{for(let _=0;_<u;_++)for(let j=0;j<o;j++){let x=_*a/u,ae=E/2-p/2+j*p/o,J=new kn(_,j,{x,y:ae},{x,y:ae},a/u,p/o);b.push(J)}let M=0;for(let _=0;_<u;_++)for(let j=0;j<o;j++){let x=j,ae=_,J=b[M];if(x==o-1)J.shape.bottom=null;else{let Ge=Math.random()-.5<0?-1:1;J.shape.bottom=Ge*(Math.random()*.4+.3)}if(ae==u-1)J.shape.right=null;else{let Ge=Math.random()-.5<0?-1:1;J.shape.right=Ge*(Math.random()*.4+.3)}x==0?J.shape.top=null:J.shape.top=-b[M-1].shape.bottom,ae==0?J.shape.left=null:J.shape.left=-b[M-o].shape.right,M++}G(b,D-a/u,E-p/o)};function oe(){n(0,c=Qe.innerWidth)}function _e(m){se[m?"unshift":"push"](()=>{I=m,n(2,I)})}const ne=m=>{C(m.offsetX,m.offsetY)},ze=m=>{$(m.offsetX,m.offsetY)},Re=()=>{ge()},F=m=>C(m.touches[0].clientX,m.touches[0].clientY,m),B=m=>{$(m.touches[0].clientX,m.touches[0].clientY,m)},H=()=>{ge()};function le(m){se[m?"unshift":"push"](()=>{O=m,n(3,O)})}return t.$$set=m=>{"img"in m&&n(11,i=m.img)},t.$$.update=()=>{t.$$.dirty[0]&30720&&n(4,s=({context:m,width:D,height:E})=>{m.globalAlpha=r,m.drawImage(i,D/2-a/2,E/2-p/2,a,p),m.globalAlpha=1,r==0&&(m.beginPath(),m.rect(D/2-a/2,E/2-p/2,a,p),m.stroke());for(let M=0;M<b.length;M++)b[M].draw(m,i,z,o)})},[c,N,I,O,s,f,C,$,ge,je,ce,i,r,z,b,oe,_e,ne,ze,Re,F,B,H,le]}class Cn extends te{constructor(e){super(),ee(this,e,$n,Pn,X,{img:11},null,[-1,-1])}}function It(t){const e=t-1;return e*e*e+1}function Sn(t,{delay:e=0,duration:n=400,easing:s=Ye}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:s,css:l=>`opacity: ${l*i}`}}function ft(t,{delay:e=0,duration:n=400,easing:s=It}={}){const i=getComputedStyle(t),l=+i.opacity,r=parseFloat(i.height),o=parseFloat(i.paddingTop),u=parseFloat(i.paddingBottom),c=parseFloat(i.marginTop),f=parseFloat(i.marginBottom),h=parseFloat(i.borderTopWidth),a=parseFloat(i.borderBottomWidth);return{delay:e,duration:n,easing:s,css:p=>`overflow: hidden;opacity: ${Math.min(p*20,1)*l};height: ${p*r}px;padding-top: ${p*o}px;padding-bottom: ${p*u}px;margin-top: ${p*c}px;margin-bottom: ${p*f}px;border-top-width: ${p*h}px;border-bottom-width: ${p*a}px;`}}function Tn(t,{delay:e=0,duration:n=400,easing:s=It,start:i=0,opacity:l=0}={}){const r=getComputedStyle(t),o=+r.opacity,u=r.transform==="none"?"":r.transform,c=1-i,f=o*(1-l);return{delay:e,duration:n,easing:s,css:(h,a)=>`
			transform: ${u} scale(${1-c*a});
			opacity: ${o-f*a}
		`}}function En(t){let e,n,s,i,l,r,o,u,c;const f=t[2].default,h=Ve(f,t,t[1],null);return{c(){e=w("div"),n=w("span"),n.textContent="\u2715",s=S(),i=w("div"),h&&h.c(),d(n,"class","btn cursor-pointer justify-self-end p-0 text-2xl font-bold"),d(i,"class","grid h-full grid-rows-[min-content_min-content_1fr] place-items-center gap-3"),d(e,"class","fixed top-1/2 left-1/2 grid min-h-screen w-full -translate-x-1/2 -translate-y-1/2 grid-rows-[min-content_1fr] items-center gap-4 bg-surface-50 p-8 shadow-xl text-token dark:bg-surface-800 xs:min-h-[30rem] xs:max-w-[30rem] xs:rounded-lg")},m(a,p){P(a,e,p),g(e,n),g(e,s),g(e,i),h&&h.m(i,null),o=!0,u||(c=q(n,"click",t[0]),u=!0)},p(a,[p]){h&&h.p&&(!o||p&2)&&et(h,f,a,a[1],o?Ze(f,a[1],p,null):tt(a[1]),null)},i(a){o||(T(h,a),U(()=>{r&&r.end(1),l=rn(e,Tn,{}),l.start()}),o=!0)},o(a){W(h,a),l&&l.invalidate(),r=on(e,Sn,{}),o=!1},d(a){a&&k(e),h&&h.d(a),a&&r&&r.end(),u=!1,c()}}}function jn(t,e,n){let{$$slots:s={},$$scope:i}=e;const l=Ut(),r=()=>l("close");return t.$$set=o=>{"$$scope"in o&&n(1,i=o.$$scope)},[r,i,s]}class Rn extends te{constructor(e){super(),ee(this,e,jn,En,X,{})}}function ht(t){let e,n,s;const i=t[3].default,l=Ve(i,t,t[2],null);return{c(){e=w("div"),l&&l.c(),d(e,"class","mt-2 mb-4")},m(r,o){P(r,e,o),l&&l.m(e,null),s=!0},p(r,o){l&&l.p&&(!s||o&4)&&et(l,i,r,r[2],s?Ze(i,r[2],o,null):tt(r[2]),null)},i(r){s||(T(l,r),U(()=>{n||(n=ut(e,ft,{},!0)),n.run(1)}),s=!0)},o(r){W(l,r),n||(n=ut(e,ft,{},!1)),n.run(0),s=!1},d(r){r&&k(e),l&&l.d(r),r&&n&&n.end()}}}function In(t){let e,n,s,i,l,r,o=t[0]&&ht(t);return{c(){e=w("section"),n=w("span"),n.textContent="\u2022\u2022\u2022",s=S(),o&&o.c(),d(n,"class","text-token"),d(e,"class","xs: absolute top-0 left-0 cursor-pointer rounded-br-lg bg-surface-900/50 py-1 px-4 text-lg transition-all duration-300")},m(u,c){P(u,e,c),g(e,n),g(e,s),o&&o.m(e,null),i=!0,l||(r=q(e,"click",t[1]),l=!0)},p(u,[c]){u[0]?o?(o.p(u,c),c&1&&T(o,1)):(o=ht(u),o.c(),T(o,1),o.m(e,null)):o&&(Oe(),W(o,1,1,()=>{o=null}),We())},i(u){i||(T(o),i=!0)},o(u){W(o),i=!1},d(u){u&&k(e),o&&o.d(),l=!1,r()}}}function xn(t,e,n){let{$$slots:s={},$$scope:i}=e,l=!1;function r(){n(0,l=!l)}return t.$$set=o=>{"$$scope"in o&&n(2,i=o.$$scope)},[l,r,i,s]}class Ln extends te{constructor(e){super(),ee(this,e,xn,In,X,{})}}const dt=t=>{const e=r=>String(r).padStart(2,"0");let n=t%1e3;t=(t-n)/1e3;let s=t%60;t=(t-s)/60;let i=t%60,l=(t-i)/60;return`${e(l)}:${e(i)}:${e(s)}.${e(n)}`},Nn=async()=>{let t=Math.floor(Math.random()*1e3);const e=await fetch(`https://picsum.photos/id/${t}/1200`);if(e.status==404)throw new Error("Couldn't find an image. Try again.");return{imageID:t,url:e.url}};function On(t){let e,n,s,i;return{c(){e=ye("svg"),n=ye("line"),s=ye("polyline"),d(n,"x1","19"),d(n,"y1","12"),d(n,"x2","5"),d(n,"y2","12"),d(s,"points","12 19 5 12 12 5"),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"width",t[0]),d(e,"height",t[0]),d(e,"fill","none"),d(e,"viewBox","0 0 24 24"),d(e,"stroke","currentColor"),d(e,"stroke-width",t[1]),d(e,"stroke-linecap","round"),d(e,"stroke-linejoin","round"),d(e,"class",i="feather feather-arrow-left "+t[2])},m(l,r){P(l,e,r),g(e,n),g(e,s)},p(l,[r]){r&1&&d(e,"width",l[0]),r&1&&d(e,"height",l[0]),r&2&&d(e,"stroke-width",l[1]),r&4&&i!==(i="feather feather-arrow-left "+l[2])&&d(e,"class",i)},i:L,o:L,d(l){l&&k(e)}}}function Wn(t,e,n){let{size:s="24"}=e,{strokeWidth:i=2}=e,{class:l=""}=e;return s!=="100%"&&(s=s.slice(-1)==="x"?s.slice(0,s.length-1)+"em":parseInt(s)+"px"),t.$$set=r=>{"size"in r&&n(0,s=r.size),"strokeWidth"in r&&n(1,i=r.strokeWidth),"class"in r&&n(2,l=r.class)},[s,i,l]}class An extends te{constructor(e){super(),ee(this,e,Wn,On,X,{size:0,strokeWidth:1,class:2})}}function Dn(t){let e,n,s,i;return{c(){e=ye("svg"),n=ye("line"),s=ye("polyline"),d(n,"x1","5"),d(n,"y1","12"),d(n,"x2","19"),d(n,"y2","12"),d(s,"points","12 5 19 12 12 19"),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"width",t[0]),d(e,"height",t[0]),d(e,"fill","none"),d(e,"viewBox","0 0 24 24"),d(e,"stroke","currentColor"),d(e,"stroke-width",t[1]),d(e,"stroke-linecap","round"),d(e,"stroke-linejoin","round"),d(e,"class",i="feather feather-arrow-right "+t[2])},m(l,r){P(l,e,r),g(e,n),g(e,s)},p(l,[r]){r&1&&d(e,"width",l[0]),r&1&&d(e,"height",l[0]),r&2&&d(e,"stroke-width",l[1]),r&4&&i!==(i="feather feather-arrow-right "+l[2])&&d(e,"class",i)},i:L,o:L,d(l){l&&k(e)}}}function qn(t,e,n){let{size:s="24"}=e,{strokeWidth:i=2}=e,{class:l=""}=e;return s!=="100%"&&(s=s.slice(-1)==="x"?s.slice(0,s.length-1)+"em":parseInt(s)+"px"),t.$$set=r=>{"size"in r&&n(0,s=r.size),"strokeWidth"in r&&n(1,i=r.strokeWidth),"class"in r&&n(2,l=r.class)},[s,i,l]}class Fn extends te{constructor(e){super(),ee(this,e,qn,Dn,X,{size:0,strokeWidth:1,class:2})}}function pt(t,e,n){const s=t.slice();return s[19]=e[n],s}function mt(t){let e,n;return{c(){e=w("img"),de(e.src,n=t[0])||d(e,"src",n),d(e,"alt","puzzle preview"),d(e,"class","mx-auto w-full max-w-xs")},m(s,i){P(s,e,i)},p(s,i){i&1&&!de(e.src,n=s[0])&&d(e,"src",n)},d(s){s&&k(e)}}}function gt(t){let e;return{c(){e=w("p"),e.textContent="Couldn't find an image. Try again.",d(e,"class","text-center")},m(n,s){P(n,e,s)},d(n){n&&k(e)}}}function _t(t){let e;return{c(){e=w("p"),e.textContent="Loading...",d(e,"class","text-center")},m(n,s){P(n,e,s)},d(n){n&&k(e)}}}function bt(t){let e,n=t[19]+"",s;return{c(){e=w("option"),s=A(n),e.__value=t[19],e.value=e.__value},m(i,l){P(i,e,l),g(e,s)},p:L,d(i){i&&k(e)}}}function Bn(t){let e,n,s,i,l,r;return{c(){e=w("p"),n=A("Selected Hard ("),s=A(t[6]),i=A(" x "),l=A(t[6]),r=A(")")},m(o,u){P(o,e,u),g(e,n),g(e,s),g(e,i),g(e,l),g(e,r)},p(o,u){u&64&&pe(s,o[6]),u&64&&pe(l,o[6])},d(o){o&&k(e)}}}function Hn(t){let e,n,s,i,l,r;return{c(){e=w("p"),n=A("Selected Medium ("),s=A(t[6]),i=A(" x "),l=A(t[6]),r=A(")")},m(o,u){P(o,e,u),g(e,n),g(e,s),g(e,i),g(e,l),g(e,r)},p(o,u){u&64&&pe(s,o[6]),u&64&&pe(l,o[6])},d(o){o&&k(e)}}}function Yn(t){let e,n,s,i,l,r;return{c(){e=w("p"),n=A("Selected Easy ("),s=A(t[6]),i=A(" x "),l=A(t[6]),r=A(")")},m(o,u){P(o,e,u),g(e,n),g(e,s),g(e,i),g(e,l),g(e,r)},p(o,u){u&64&&pe(s,o[6]),u&64&&pe(l,o[6])},d(o){o&&k(e)}}}function Gn(t){let e,n,s,i,l,r,o,u,c,f,h,a,p,z,b,y,v,R,N,G,I,C,$,me,O,ge,Pe,re,je,ce,oe,_e,ne,ze,Re,F=t[0]&&mt(t),B=t[3]&&gt(),H=t[2]&&_t();v=new Fn({props:{size:"34",class:"cursor-pointer text-token"}});let le=t[7],m=[];for(let _=0;_<le.length;_+=1)m[_]=bt(pt(t,le,_));function D(_,j){if(_[4]==="Easy")return Yn;if(_[4]==="Medium")return Hn;if(_[4]==="Hard")return Bn}let E=D(t),M=E&&E(t);return oe=new An({props:{size:"34",class:"cursor-pointer text-token"}}),{c(){e=w("main"),n=w("div"),s=w("form"),i=w("input"),l=S(),r=w("div"),o=w("button"),o.textContent="Select image",u=S(),c=w("p"),c.textContent="OR",f=S(),h=w("button"),h.textContent="Solve random image",a=S(),F&&F.c(),p=S(),B&&B.c(),z=S(),H&&H.c(),b=S(),y=w("button"),ie(v.$$.fragment),G=S(),I=w("div"),C=w("label"),$=w("span"),$.textContent="Select difficulty:",me=S(),O=w("select");for(let _=0;_<m.length;_+=1)m[_].c();ge=S(),M&&M.c(),Pe=S(),re=w("button"),re.textContent="New Game",je=S(),ce=w("button"),ie(oe.$$.fragment),d(i,"type","file"),d(i,"id","img"),d(i,"name","img"),d(i,"class","hidden"),d(i,"accept","image/*"),d(s,"class",""),d(o,"class","btn btn-base btn-filled-primary min-w-[12rem]"),d(h,"class","btn btn-base btn-filled-primary min-w-[12rem]"),d(r,"class","mb-6 flex min-w-full flex-col flex-wrap items-center justify-center gap-3 sm:flex-row"),d(y,"class","btn absolute bottom-0 right-0 p-0"),y.disabled=R=!t[0],d(n,"class",N=`relative min-w-full pb-10 transition-transform xs:pb-0 ${t[5]?"translate-x-[calc(-100%-10rem)]":"translate-x-0"}`),d(O,"class","cursor-pointer p-1"),t[4]===void 0&&U(()=>t[15].call(O)),d(C,"class","mb-2"),d(re,"class","btn btn-base btn-filled-primary mt-8 w-full"),d(ce,"class","btn absolute bottom-0 left-0 p-0"),d(I,"class",_e=`relative min-w-full transition-transform ${t[5]?"translate-x-[calc(-100%-2rem)]":"translate-x-0"}`),d(e,"class","mx-3 flex min-h-[30rem] w-[calc(100vw-1.5rem)] gap-8 overflow-hidden rounded-lg bg-surface-50 p-8 dark:bg-surface-800 xs:mx-auto xs:max-w-lg")},m(_,j){P(_,e,j),g(e,n),g(n,s),g(s,i),t[11](i),g(n,l),g(n,r),g(r,o),g(r,u),g(r,c),g(r,f),g(r,h),g(n,a),F&&F.m(n,null),g(n,p),B&&B.m(n,null),g(n,z),H&&H.m(n,null),g(n,b),g(n,y),Q(v,y,null),g(e,G),g(e,I),g(I,C),g(C,$),g(C,me),g(C,O);for(let x=0;x<m.length;x+=1)m[x].m(O,null);at(O,t[4]),g(I,ge),M&&M.m(I,null),g(I,Pe),g(I,re),g(I,je),g(I,ce),Q(oe,ce,null),ne=!0,ze||(Re=[q(i,"change",t[12]),q(o,"click",Ft(t[13])),q(h,"click",t[14]),q(y,"click",t[10]),q(O,"change",t[15]),q(O,"change",t[8]),q(re,"click",t[9]),q(ce,"click",t[10])],ze=!0)},p(_,[j]){if(_[0]?F?F.p(_,j):(F=mt(_),F.c(),F.m(n,p)):F&&(F.d(1),F=null),_[3]?B||(B=gt(),B.c(),B.m(n,z)):B&&(B.d(1),B=null),_[2]?H||(H=_t(),H.c(),H.m(n,b)):H&&(H.d(1),H=null),(!ne||j&1&&R!==(R=!_[0]))&&(y.disabled=R),(!ne||j&32&&N!==(N=`relative min-w-full pb-10 transition-transform xs:pb-0 ${_[5]?"translate-x-[calc(-100%-10rem)]":"translate-x-0"}`))&&d(n,"class",N),j&128){le=_[7];let x;for(x=0;x<le.length;x+=1){const ae=pt(_,le,x);m[x]?m[x].p(ae,j):(m[x]=bt(ae),m[x].c(),m[x].m(O,null))}for(;x<m.length;x+=1)m[x].d(1);m.length=le.length}j&144&&at(O,_[4]),E===(E=D(_))&&M?M.p(_,j):(M&&M.d(1),M=E&&E(_),M&&(M.c(),M.m(I,Pe))),(!ne||j&32&&_e!==(_e=`relative min-w-full transition-transform ${_[5]?"translate-x-[calc(-100%-2rem)]":"translate-x-0"}`))&&d(I,"class",_e)},i(_){ne||(T(v.$$.fragment,_),T(oe.$$.fragment,_),ne=!0)},o(_){W(v.$$.fragment,_),W(oe.$$.fragment,_),ne=!1},d(_){_&&k(e),t[11](null),F&&F.d(),B&&B.d(),H&&H.d(),V(v),Dt(m,_),M&&M.d(),V(oe),ze=!1,Z(Re)}}}function Xn(t,e,n){let s,i,l,r;ue(t,Ue,C=>n(16,s=C)),ue(t,He,C=>n(17,i=C)),ue(t,ve,C=>n(18,l=C)),ue(t,fe,C=>n(6,r=C));let{jigsawSrc:o}=e,u,c=!1,f=!1;const h=["Easy","Medium","Hard","debug"];let a=h[0];Y(fe,r=5,r);function p(){a==="Easy"?Y(fe,r=5,r):a==="Medium"?Y(fe,r=7,r):a==="Hard"?Y(fe,r=10,r):a==="debug"&&Y(fe,r=2,r)}function z(){o&&(Y(ve,l=!1,l),Y(He,i=!0,i),Y(Ue,s=new Date,s))}let b=!1;function y(){n(5,b=!b)}function v(C){se[C?"unshift":"push"](()=>{u=C,n(1,u)})}const R=C=>{let $=C.target.form[0].files[0];$&&n(0,o=URL.createObjectURL($))},N=()=>{u.click()},G=async()=>{n(2,c=!0),n(3,f=!1),n(0,o=null);try{n(0,o=(await Nn()).url)}catch{n(3,f=!0)}n(2,c=!1)};function I(){a=Yt(this),n(4,a),n(7,h)}return t.$$set=C=>{"jigsawSrc"in C&&n(0,o=C.jigsawSrc)},[o,u,c,f,a,b,r,h,p,z,y,v,R,N,G,I]}class Jn extends te{constructor(e){super(),ee(this,e,Xn,Gn,X,{jigsawSrc:0})}}function Kn(t){let e,n,s,i,l,r;return{c(){e=w("label"),n=w("input"),s=S(),i=w("p"),i.textContent="Background image",d(n,"type","checkbox"),d(n,"id","switch"),d(n,"class","checkbox"),d(e,"for","switch"),d(e,"class","unstyled mt-4 flex cursor-pointer gap-2")},m(o,u){P(o,e,u),g(e,n),n.checked=t[0],g(e,s),g(e,i),l||(r=[q(n,"click",t[1]),q(n,"change",t[2])],l=!0)},p(o,[u]){u&1&&(n.checked=o[0])},i:L,o:L,d(o){o&&k(e),l=!1,Z(r)}}}function Un(t,e,n){let s;ue(t,Ae,o=>n(3,s=o));let i=s>0;function l(){s>0?Y(Ae,s=0,s):Y(Ae,s=.4,s)}function r(){i=this.checked,n(0,i)}return[i,l,r]}class Qn extends te{constructor(e){super(),ee(this,e,Un,Kn,X,{})}}function wt(t){let e,n,s,i;function l(o){t[6](o)}let r={};return t[0]!==void 0&&(r.jigsawSrc=t[0]),n=new Jn({props:r}),se.push(()=>an(n,"jigsawSrc",l)),{c(){e=w("div"),ie(n.$$.fragment),d(e,"class","grid min-h-screen place-content-center")},m(o,u){P(o,e,u),Q(n,e,null),i=!0},p(o,u){const c={};!s&&u&1&&(s=!0,c.jigsawSrc=o[0],nn(()=>s=!1)),n.$set(c)},i(o){i||(T(n.$$.fragment,o),i=!0)},o(o){W(n.$$.fragment,o),i=!1},d(o){o&&k(e),V(n)}}}function yt(t){let e,n,s,i;return e=new Cn({props:{img:t[1]}}),s=new Ln({props:{$$slots:{default:[Vn]},$$scope:{ctx:t}}}),{c(){ie(e.$$.fragment),n=S(),ie(s.$$.fragment)},m(l,r){Q(e,l,r),P(l,n,r),Q(s,l,r),i=!0},p(l,r){const o={};r&2&&(o.img=l[1]),e.$set(o);const u={};r&513&&(u.$$scope={dirty:r,ctx:l}),s.$set(u)},i(l){i||(T(e.$$.fragment,l),T(s.$$.fragment,l),i=!0)},o(l){W(e.$$.fragment,l),W(s.$$.fragment,l),i=!1},d(l){V(e,l),l&&k(n),V(s,l)}}}function Vn(t){let e,n,s,i,l,r,o,u,c;return i=new Qn({}),{c(){e=w("img"),s=S(),ie(i.$$.fragment),l=S(),r=w("button"),r.textContent="New Game",de(e.src,n=t[0])||d(e,"src",n),d(e,"alt","solved jigsaw"),d(e,"class","max-h-[75vh] w-full xs:max-w-md"),d(r,"class","btn btn-base btn-filled-primary mt-4 w-full")},m(f,h){P(f,e,h),P(f,s,h),Q(i,f,h),P(f,l,h),P(f,r,h),o=!0,u||(c=q(r,"click",t[5]),u=!0)},p(f,h){(!o||h&1&&!de(e.src,n=f[0]))&&d(e,"src",n)},i(f){o||(T(i.$$.fragment,f),o=!0)},o(f){W(i.$$.fragment,f),o=!1},d(f){f&&k(e),f&&k(s),V(i,f),f&&k(l),f&&k(r),u=!1,c()}}}function vt(t){let e,n;return e=new Rn({props:{$$slots:{default:[Zn]},$$scope:{ctx:t}}}),e.$on("close",t[8]),{c(){ie(e.$$.fragment)},m(s,i){Q(e,s,i),n=!0},p(s,i){const l={};i&528&&(l.$$scope={dirty:i,ctx:s}),e.$set(l)},i(s){n||(T(e.$$.fragment,s),n=!0)},o(s){W(e.$$.fragment,s),n=!1},d(s){V(e,s)}}}function Zn(t){let e,n,s,i,l=dt(new Date-t[4])+"",r,o,u,c,f;return{c(){e=w("p"),e.textContent="Puzzle solved!",n=S(),s=w("p"),i=A("Your time: "),r=A(l),o=S(),u=w("button"),u.textContent="New Game",d(e,"class","!text-xl"),d(s,"class","text-sm font-semibold md:text-2xl"),d(u,"class","btn btn-base btn-filled-primary mb-4 w-full self-end")},m(h,a){P(h,e,a),P(h,n,a),P(h,s,a),g(s,i),g(s,r),P(h,o,a),P(h,u,a),c||(f=q(u,"click",t[5]),c=!0)},p(h,a){a&16&&l!==(l=dt(new Date-h[4])+"")&&pe(r,l)},d(h){h&&k(e),h&&k(n),h&&k(s),h&&k(o),h&&k(u),c=!1,f()}}}function es(t){let e,n,s,i,l,r,o,u=!t[3]&&wt(t),c=t[3]&&yt(t),f=t[2]&&vt(t);return{c(){u&&u.c(),e=S(),n=w("img"),i=S(),c&&c.c(),l=S(),f&&f.c(),r=qt(),de(n.src,s=t[0])||d(n,"src",s),d(n,"class","hidden"),d(n,"alt",""),d(n,"aria-hidden","true"),d(n,"width","0")},m(h,a){u&&u.m(h,a),P(h,e,a),P(h,n,a),t[7](n),P(h,i,a),c&&c.m(h,a),P(h,l,a),f&&f.m(h,a),P(h,r,a),o=!0},p(h,[a]){h[3]?u&&(Oe(),W(u,1,1,()=>{u=null}),We()):u?(u.p(h,a),a&8&&T(u,1)):(u=wt(h),u.c(),T(u,1),u.m(e.parentNode,e)),(!o||a&1&&!de(n.src,s=h[0]))&&d(n,"src",s),h[3]?c?(c.p(h,a),a&8&&T(c,1)):(c=yt(h),c.c(),T(c,1),c.m(l.parentNode,l)):c&&(Oe(),W(c,1,1,()=>{c=null}),We()),h[2]?f?(f.p(h,a),a&4&&T(f,1)):(f=vt(h),f.c(),T(f,1),f.m(r.parentNode,r)):f&&(Oe(),W(f,1,1,()=>{f=null}),We())},i(h){o||(T(u),T(c),T(f),o=!0)},o(h){W(u),W(c),W(f),o=!1},d(h){u&&u.d(h),h&&k(e),h&&k(n),t[7](null),h&&k(i),c&&c.d(h),h&&k(l),f&&f.d(h),h&&k(r)}}}function ts(t,e,n){let s,i,l;ue(t,ve,a=>n(2,s=a)),ue(t,He,a=>n(3,i=a)),ue(t,Ue,a=>n(4,l=a));let r="",o;function u(){Y(He,i=!1,i),Y(ve,s=!1,s),n(0,r="")}function c(a){r=a,n(0,r)}function f(a){se[a?"unshift":"push"](()=>{o=a,n(1,o)})}return[r,o,s,i,l,u,c,f,()=>Y(ve,s=!1,s)]}class ns extends te{constructor(e){super(),ee(this,e,ts,es,X,{})}}new ns({target:document.getElementById("app")});
