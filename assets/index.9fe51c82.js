(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const h of o.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&n(h)}).observe(document,{childList:!0,subtree:!0});function s(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=s(i);fetch(i.href,o)}})();function G(){}function Ut(e,t){for(const s in t)e[s]=t[s];return e}function Nt(e){return e()}function It(){return Object.create(null)}function nt(e){e.forEach(Nt)}function Bt(e){return typeof e=="function"}function gt(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let yt;function St(e,t){return yt||(yt=document.createElement("a")),yt.href=t,e===yt.href}function Gt(e){return Object.keys(e).length===0}function Qt(e,t,s,n){if(e){const i=Xt(e,t,s,n);return e[0](i)}}function Xt(e,t,s,n){return e[1]&&n?Ut(s.ctx.slice(),e[1](n(t))):s.ctx}function Vt(e,t,s,n){if(e[2]&&n){const i=e[2](n(s));if(t.dirty===void 0)return i;if(typeof i=="object"){const o=[],h=Math.max(t.dirty.length,i.length);for(let r=0;r<h;r+=1)o[r]=t.dirty[r]|i[r];return o}return t.dirty|i}return t.dirty}function Zt(e,t,s,n,i,o){if(i){const h=Xt(t,s,n,o);e.p(h,i)}}function xt(e){if(e.ctx.length>32){const t=[],s=e.ctx.length/32;for(let n=0;n<s;n++)t[n]=-1;return t}return-1}function $t(e){return e&&Bt(e.destroy)?e.destroy:G}function m(e,t){e.appendChild(t)}function B(e,t,s){e.insertBefore(t,s||null)}function A(e){e.parentNode.removeChild(e)}function te(e,t){for(let s=0;s<e.length;s+=1)e[s]&&e[s].d(t)}function T(e){return document.createElement(e)}function I(e){return document.createTextNode(e)}function D(){return I(" ")}function ee(){return I("")}function U(e,t,s,n){return e.addEventListener(t,s,n),()=>e.removeEventListener(t,s,n)}function se(e){return function(t){return t.preventDefault(),e.call(this,t)}}function k(e,t,s){s==null?e.removeAttribute(t):e.getAttribute(t)!==s&&e.setAttribute(t,s)}function ne(e){return Array.from(e.childNodes)}function lt(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function ie(e,t,s,n){s===null?e.style.removeProperty(t):e.style.setProperty(t,s,n?"important":"")}function Lt(e,t){for(let s=0;s<e.options.length;s+=1){const n=e.options[s];if(n.__value===t){n.selected=!0;return}}e.selectedIndex=-1}function re(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}let dt;function ft(e){dt=e}function mt(){if(!dt)throw new Error("Function called outside component initialization");return dt}function oe(e){mt().$$.on_mount.push(e)}function Yt(e){mt().$$.on_destroy.push(e)}function he(e,t){return mt().$$.context.set(e,t),t}function le(e){return mt().$$.context.get(e)}function ue(e,t){const s=e.$$.callbacks[t.type];s&&s.slice().forEach(n=>n.call(this,t))}const at=[],et=[],Mt=[],qt=[],ae=Promise.resolve();let Et=!1;function ce(){Et||(Et=!0,ae.then(Ft))}function pt(e){Mt.push(e)}const Ct=new Set;let wt=0;function Ft(){const e=dt;do{for(;wt<at.length;){const t=at[wt];wt++,ft(t),fe(t.$$)}for(ft(null),at.length=0,wt=0;et.length;)et.pop()();for(let t=0;t<Mt.length;t+=1){const s=Mt[t];Ct.has(s)||(Ct.add(s),s())}Mt.length=0}while(at.length);for(;qt.length;)qt.pop()();Et=!1,Ct.clear(),ft(e)}function fe(e){if(e.fragment!==null){e.update(),nt(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(pt)}}const Pt=new Set;let st;function de(){st={r:0,c:[],p:st}}function pe(){st.r||nt(st.c),st=st.p}function tt(e,t){e&&e.i&&(Pt.delete(e),e.i(t))}function ut(e,t,s,n){if(e&&e.o){if(Pt.has(e))return;Pt.add(e),st.c.push(()=>{Pt.delete(e),n&&(s&&e.d(1),n())}),e.o(t)}else n&&n()}const ge=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function jt(e){e&&e.c()}function vt(e,t,s,n){const{fragment:i,on_mount:o,on_destroy:h,after_update:r}=e.$$;i&&i.m(t,s),n||pt(()=>{const l=o.map(Nt).filter(Bt);h?h.push(...l):nt(l),e.$$.on_mount=[]}),r.forEach(pt)}function kt(e,t){const s=e.$$;s.fragment!==null&&(nt(s.on_destroy),s.fragment&&s.fragment.d(t),s.on_destroy=s.fragment=null,s.ctx=[])}function me(e,t){e.$$.dirty[0]===-1&&(at.push(e),ce(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function zt(e,t,s,n,i,o,h,r=[-1]){const l=dt;ft(e);const u=e.$$={fragment:null,ctx:null,props:o,update:G,not_equal:i,bound:It(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:It(),dirty:r,skip_bound:!1,root:t.target||l.$$.root};h&&h(u.root);let b=!1;if(u.ctx=s?s(e,t.props||{},(f,a,...M)=>{const y=M.length?M[0]:a;return u.ctx&&i(u.ctx[f],u.ctx[f]=y)&&(!u.skip_bound&&u.bound[f]&&u.bound[f](y),b&&me(e,f)),a}):[],u.update(),b=!0,nt(u.before_update),u.fragment=n?n(u.ctx):!1,t.target){if(t.hydrate){const f=ne(t.target);u.fragment&&u.fragment.l(f),f.forEach(A)}else u.fragment&&u.fragment.c();t.intro&&tt(e.$$.fragment),vt(e,t.target,t.anchor,t.customElement),Ft()}ft(l)}class Tt{$destroy(){kt(this,1),this.$destroy=G}$on(t,s){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(s),()=>{const i=n.indexOf(s);i!==-1&&n.splice(i,1)}}$set(t){this.$$set&&!Gt(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const _e=["focus","blur","fullscreenchange","fullscreenerror","scroll","cut","copy","paste","keydown","keypress","keyup","auxclick","click","contextmenu","dblclick","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseout","mouseup","pointerlockchange","pointerlockerror","select","wheel","drag","dragend","dragenter","dragstart","dragleave","dragover","drop","touchcancel","touchend","touchmove","touchstart","pointerover","pointerenter","pointerdown","pointermove","pointerup","pointercancel","pointerout","pointerleave","gotpointercapture","lostpointercapture"];function be(){const e=mt();return t=>{const s=_e.map(n=>U(t,n,i=>ue(e,i)));return{destroy:()=>s.forEach(n=>n())}}}class ye{constructor(){this.register=this.register.bind(this),this.unregister=this.unregister.bind(this),this.redraw=this.redraw.bind(this),this.resize=this.resize.bind(this),this.render=this.render.bind(this),this.currentLayerId=0,this.setups=new Map,this.renderers=new Map,this.needsSetup=!1,this.needsResize=!0,this.needsRedraw=!0,this.layerSequence=[]}redraw(){this.needsRedraw=!0}resize(){this.needsResize=!0,this.needsRedraw=!0}register({setup:t,render:s}){return t&&(this.setups.set(this.currentLayerId,t),this.needsSetup=!0),this.renderers.set(this.currentLayerId,s),this.needsRedraw=!0,this.currentLayerId++}unregister(t){this.renderers.delete(t),this.needsRedraw=!0}render({autoclear:t,pixelRatio:s,context:n,width:i,height:o}){const h={context:n,width:i,height:o};if(this.needsResize&&(n.setTransform(s,0,0,s,0,0),this.needsResize=!1),this.needsSetup){for(const[r,l]of this.setups)l(h),this.setups.delete(r);this.needsSetup=!1}if(this.needsRedraw){t&&n.clearRect(0,0,i,o);for(const r of this.layerSequence)this.renderers.get(r)(h);this.needsRedraw=!1}}}function we(e){let t,s,n,i,o,h,r,l,u;const b=e[13].default,f=Qt(b,e,e[12],null);return{c(){t=T("canvas"),o=D(),h=T("div"),f&&f.c(),k(t,"style",s="display: block; width: "+e[1]+"px; height: "+e[2]+"px;"+(e[3]?` ${e[3]}`:"")),k(t,"width",n=e[1]*e[0]),k(t,"height",i=e[2]*e[0]),ie(h,"display","none")},m(a,M){B(a,t,M),e[14](t),B(a,o,M),B(a,h,M),f&&f.m(h,null),e[15](h),r=!0,l||(u=$t(e[6].call(null,t)),l=!0)},p(a,[M]){(!r||M&14&&s!==(s="display: block; width: "+a[1]+"px; height: "+a[2]+"px;"+(a[3]?` ${a[3]}`:"")))&&k(t,"style",s),(!r||M&3&&n!==(n=a[1]*a[0]))&&k(t,"width",n),(!r||M&5&&i!==(i=a[2]*a[0]))&&k(t,"height",i),f&&f.p&&(!r||M&4096)&&Zt(f,b,a,a[12],r?Vt(b,a[12],M,null):xt(a[12]),null)},i(a){r||(tt(f,a),r=!0)},o(a){ut(f,a),r=!1},d(a){a&&A(t),e[14](null),a&&A(o),a&&A(h),f&&f.d(a),e[15](null),l=!1,u()}}}const Dt={};function Me(e,t,s){let{$$slots:n={},$$scope:i}=t,{width:o=640,height:h=640,pixelRatio:r=void 0,style:l=null,autoclear:u=!0}=t,b,f,a,M,y;const E=be(),_=new ye;function X(){_.redraw()}function J(){return b}function Y(){return f}r===void 0&&(typeof window>"u"?r=2:r=window.devicePixelRatio);function P(){_.render({context:f,width:o,height:h,pixelRatio:r,autoclear:u}),a=window.requestAnimationFrame(P)}he(Dt,{register:_.register,unregister:_.unregister,redraw:_.redraw}),oe(()=>{f=b.getContext("2d"),y=new MutationObserver(v),y.observe(M,{childList:!0}),v(),P();function v(){const F=[...M.children].map(K=>+K.dataset.layerId);s(11,_.layerSequence=F,_),_.redraw()}}),Yt(()=>{typeof window>"u"||(window.cancelAnimationFrame(a),y.disconnect())});function W(v){et[v?"unshift":"push"](()=>{b=v,s(4,b)})}function V(v){et[v?"unshift":"push"](()=>{M=v,s(5,M)})}return e.$$set=v=>{"width"in v&&s(1,o=v.width),"height"in v&&s(2,h=v.height),"pixelRatio"in v&&s(0,r=v.pixelRatio),"style"in v&&s(3,l=v.style),"autoclear"in v&&s(7,u=v.autoclear),"$$scope"in v&&s(12,i=v.$$scope)},e.$$.update=()=>{e.$$.dirty&2183&&_.resize()},[r,o,h,l,b,M,E,u,X,J,Y,_,i,n,W,V]}class Pe extends Tt{constructor(t){super(),zt(this,t,Me,we,gt,{width:1,height:2,pixelRatio:0,style:3,autoclear:7,redraw:8,getCanvas:9,getContext:10})}get redraw(){return this.$$.ctx[8]}get getCanvas(){return this.$$.ctx[9]}get getContext(){return this.$$.ctx[10]}}function ve(e){let t;return{c(){t=T("div"),k(t,"data-layer-id",e[0])},m(s,n){B(s,t,n)},p:G,i:G,o:G,d(s){s&&A(t)}}}function ke(e,t,s){const{register:n,unregister:i,redraw:o}=le(Dt);let{setup:h=void 0,render:r=()=>{}}=t;if(typeof h!="function"&&h!==void 0)throw new Error("setup must be a function");if(typeof r!="function")throw new Error("render must be a function");const l=n({setup:h,render:r});return Yt(()=>i(l)),e.$$set=u=>{"setup"in u&&s(1,h=u.setup),"render"in u&&s(2,r=u.render)},e.$$.update=()=>{e.$$.dirty&4&&o()},[l,h,r]}class ze extends Tt{constructor(t){super(),zt(this,t,ke,ve,gt,{setup:1,render:2})}}const ot=[];function Jt(e,t=G){let s;const n=new Set;function i(r){if(gt(e,r)&&(e=r,s)){const l=!ot.length;for(const u of n)u[1](),ot.push(u,e);if(l){for(let u=0;u<ot.length;u+=2)ot[u][0](ot[u+1]);ot.length=0}}}function o(r){i(r(e))}function h(r,l=G){const u=[r,l];return n.add(u),n.size===1&&(s=t(i)||G),r(e),()=>{n.delete(u),n.size===0&&(s(),s=null)}}return{set:i,update:o,subscribe:h}}const Te="/jigsaw-svelte/assets/puzzle.7b2c6e4e.wav",ht=Jt(0),ct=Jt(0),{window:Rt}=ge;function Ce(e){let t,s;return t=new ze({props:{render:e[3],setup:e[8]}}),{c(){jt(t.$$.fragment)},m(n,i){vt(t,n,i),s=!0},p(n,i){const o={};i[0]&8&&(o.render=n[3]),t.$set(o)},i(n){s||(tt(t.$$.fragment,n),s=!0)},o(n){ut(t.$$.fragment,n),s=!1},d(n){kt(t,n)}}}function Se(e){let t,s,n,i,o,h,r,l;pt(e[12]);let u={width:e[0]-50,height:Kt,style:"margin: 0 auto; border: 1px solid black",$$slots:{default:[Ce]},$$scope:{ctx:e}};return t=new Pe({props:u}),e[13](t),t.$on("mousedown",e[14]),t.$on("mousemove",e[15]),t.$on("mouseup",e[16]),t.$on("touchstart",e[17]),t.$on("touchmove",e[18]),t.$on("touchend",e[19]),{c(){jt(t.$$.fragment),s=D(),n=T("audio"),i=T("track"),k(i,"kind","captions"),St(n.src,o=Te)||k(n,"src",o),k(n,"preload","auto"),n.controls=!0},m(b,f){vt(t,b,f),B(b,s,f),B(b,n,f),m(n,i),e[20](n),h=!0,r||(l=[U(Rt,"resize",e[7]),U(Rt,"resize",e[12])],r=!0)},p(b,f){const a={};f[0]&1&&(a.width=b[0]-50),f[0]&8|f[1]&256&&(a.$$scope={dirty:f,ctx:b}),t.$set(a)},i(b){h||(tt(t.$$.fragment,b),h=!0)},o(b){ut(t.$$.fragment,b),h=!1},d(b){e[13](null),kt(t,b),b&&A(s),b&&A(n),e[20](null),r=!1,nt(l)}}}const Ee=.7,Kt=1e3;function Re(e,t,s){let n,{img:i}=t,o;ht.subscribe(c=>{o=c});let h;ct.subscribe(c=>{s(10,h=c)}),window.devicePixelRatio=1;const r=o,l=o;let u=window.innerWidth;const b=Ee*Math.min(u/i.naturalWidth,Kt/i.naturalHeight),f=b*i.naturalWidth,a=b*i.naturalHeight;let M=(u-50)/2-f/2,y=[],E,_,X=0;class J{constructor(C,R,d,z){this.width=f/l,this.height=a/r,this.i=C,this.j=R,this.correctPos={x:d.x,y:d.y},this.currentPos={x:z.x,y:z.y},this.path=null,this.borderpath=null,this.shape={},this.solved=!1}draw(C){const R=Math.min(this.width,this.height),d=.08*R,z=.2*R,w=.2*R;let g=this.currentPos.x+M;this.path=new Path2D,this.path.moveTo(g,this.currentPos.y),this.shape.top&&(this.path.lineTo(g+this.width*Math.abs(this.shape.top)-d,this.currentPos.y),this.path.bezierCurveTo(g+this.width*Math.abs(this.shape.top)-d,this.currentPos.y-w*Math.sign(this.shape.top)*.2,g+this.width*Math.abs(this.shape.top)-z,this.currentPos.y-w*Math.sign(this.shape.top),g+this.width*Math.abs(this.shape.top),this.currentPos.y-w*Math.sign(this.shape.top)),this.path.bezierCurveTo(g+this.width*Math.abs(this.shape.top)+z,this.currentPos.y-w*Math.sign(this.shape.top),g+this.width*Math.abs(this.shape.top)+d,this.currentPos.y-w*Math.sign(this.shape.top)*.2,g+this.width*Math.abs(this.shape.top)+d,this.currentPos.y)),this.path.lineTo(g+this.width,this.currentPos.y),this.shape.right&&(this.path.lineTo(g+this.width,this.currentPos.y+this.height*Math.abs(this.shape.right)-d),this.path.bezierCurveTo(g+this.width-w*Math.sign(this.shape.right)*.2,this.currentPos.y+this.height*Math.abs(this.shape.right)-d,g+this.width-w*Math.sign(this.shape.right),this.currentPos.y+this.height*Math.abs(this.shape.right)-z,g+this.width-w*Math.sign(this.shape.right),this.currentPos.y+this.height*Math.abs(this.shape.right)),this.path.bezierCurveTo(g+this.width-w*Math.sign(this.shape.right),this.currentPos.y+this.height*Math.abs(this.shape.right)+z,g+this.width-w*Math.sign(this.shape.right)*.2,this.currentPos.y+this.height*Math.abs(this.shape.right)+d,g+this.width,this.currentPos.y+this.height*Math.abs(this.shape.right)+d)),this.path.lineTo(g+this.width,this.currentPos.y+this.height),this.shape.bottom&&(this.path.lineTo(g+this.width*Math.abs(this.shape.bottom)+d,this.currentPos.y+this.height),this.path.bezierCurveTo(g+this.width*Math.abs(this.shape.bottom)+d,this.currentPos.y+this.height+w*Math.sign(this.shape.bottom)*.2,g+this.width*Math.abs(this.shape.bottom)+z,this.currentPos.y+this.height+w*Math.sign(this.shape.bottom),g+this.width*Math.abs(this.shape.bottom),this.currentPos.y+this.height+w*Math.sign(this.shape.bottom)),this.path.bezierCurveTo(g+this.width*Math.abs(this.shape.bottom)-z,this.currentPos.y+this.height+w*Math.sign(this.shape.bottom),g+this.width*Math.abs(this.shape.bottom)-d,this.currentPos.y+this.height+w*Math.sign(this.shape.bottom)*.2,g+this.width*Math.abs(this.shape.bottom)-d,this.currentPos.y+this.height)),this.path.lineTo(g,this.currentPos.y+this.height),this.shape.left&&(this.path.lineTo(g,this.currentPos.y+this.height*Math.abs(this.shape.left)+d),this.path.bezierCurveTo(g+w*Math.sign(this.shape.left)*.2,this.currentPos.y+this.height*Math.abs(this.shape.left)+d,g+w*Math.sign(this.shape.left),this.currentPos.y+this.height*Math.abs(this.shape.left)+z,g+w*Math.sign(this.shape.left),this.currentPos.y+this.height*Math.abs(this.shape.left)),this.path.bezierCurveTo(g+w*Math.sign(this.shape.left),this.currentPos.y+this.height*Math.abs(this.shape.left)-z,g+w*Math.sign(this.shape.left)*.2,this.currentPos.y+this.height*Math.abs(this.shape.left)-d,g,this.currentPos.y+this.height*Math.abs(this.shape.left)-d)),this.path.lineTo(g,this.currentPos.y),C.save(),C.clip(this.path);let Q=i.naturalWidth/l,N=i.naturalHeight/r,$=Math.min(Q,N)*w/R;C.drawImage(i,this.i*Q-$,this.j*N-$,Q+$*2,N+$*2,g-w,this.currentPos.y-w,this.width+w*2,this.height+w*2),C.restore(),C.stroke(this.path)}}function Y(c,C,R){for(let d=0;d<c.length;d++)c[d].currentPos.x=Math.floor(Math.random()*C)-M,c[d].currentPos.y=Math.floor(Math.random()*R)}let P;function W(c,C){let R=P.getContext();for(let d=y.length-1;d>=0;d--)if(R.isPointInPath(y[d].path,c,C)){_=y[d];break}if(_){E={x:c-_.currentPos.x,y:C-_.currentPos.y};let d=y.splice(y.findIndex(z=>z.j==_.j&&z.i==_.i),1);y.push(d[0]),s(11,y)}}function V(c,C){E&&(_.currentPos.x=c-E.x,_.currentPos.y=C-E.y,s(11,y))}function v(){X===y.length&&console.log("Puzzle has been successfully solved")}let F;function K(){let c=null;if(_){let C=30;const R=y.findIndex(d=>d.j==_.j&&d.i==_.i);if(Math.abs(_.currentPos.x-_.correctPos.x)<C&&Math.abs(_.currentPos.y-_.correctPos.y)<C){F.play(),c=setTimeout(()=>{F.pause(),s(2,F.currentTime=0,F)},500),_.currentPos.x=_.correctPos.x,_.currentPos.y=_.correctPos.y;let d=y.splice(R,1);_.solved||(d[0].solved=!0,X=X+1),c&&clearTimeout(c),y.unshift(d[0]),s(11,y)}else _.solved&&(s(11,y[R].solved=!1,y),X=X-1);E=null,_=null}v()}function it(){M=(u-50)/2-f/2,P.redraw()}let rt;function _t(){clearTimeout(rt),rt=setTimeout(it,100)}const L=({context:c,width:C,height:R})=>{for(let z=0;z<l;z++)for(let w=0;w<r;w++){let g=z*f/l,Q=R/2-a/2+w*a/r,N=new J(z,w,{x:g,y:Q},{x:g,y:Q});y.push(N)}let d=0;for(let z=0;z<l;z++)for(let w=0;w<r;w++){let g=w,Q=z,N=y[d];if(g==r-1)N.shape.bottom=null;else{let $=Math.random()-.5<0?-1:1;N.shape.bottom=$*(Math.random()*.4+.3)}if(Q==l-1)N.shape.right=null;else{let $=Math.random()-.5<0?-1:1;N.shape.right=$*(Math.random()*.4+.3)}g==0?N.shape.top=null:N.shape.top=-y[d-1].shape.bottom,Q==0?N.shape.left=null:N.shape.left=-y[d-r].shape.right,d++}Y(y,C-f/l,R-a/r)};function Z(){s(0,u=Rt.innerWidth)}function q(c){et[c?"unshift":"push"](()=>{P=c,s(1,P)})}const bt=c=>{W(c.offsetX,c.offsetY)},x=c=>{V(c.offsetX,c.offsetY)},H=()=>{K()},S=c=>W(c.touches[0].clientX,c.touches[0].clientY),p=c=>{V(c.touches[0].clientX,c.touches[0].clientY)},O=()=>{K()};function j(c){et[c?"unshift":"push"](()=>{F=c,s(2,F)})}return e.$$set=c=>{"img"in c&&s(9,i=c.img)},e.$$.update=()=>{e.$$.dirty[0]&3584&&s(3,n=({context:c,width:C,height:R})=>{c.globalAlpha=h,c.drawImage(i,C/2-f/2,R/2-a/2,f,a),c.globalAlpha=1,h==0&&(c.beginPath(),c.rect(C/2-f/2,R/2-a/2,f,a),c.stroke());for(let d=0;d<y.length;d++)y[d].draw(c)})},[u,P,F,n,W,V,K,_t,L,i,h,y,Z,q,bt,x,H,S,p,O,j]}class je extends Tt{constructor(t){super(),zt(this,t,Re,Se,gt,{img:9},null,[-1,-1])}}function Ht(e,t,s){const n=e.slice();return n[17]=t[s],n}function Ot(e){let t,s;return{c(){t=T("img"),St(t.src,s=e[0])||k(t,"src",s),k(t,"alt","puzzle"),k(t,"width","700px")},m(n,i){B(n,t,i),e[14](t)},p(n,i){i&1&&!St(t.src,s=n[0])&&k(t,"src",s)},d(n){n&&A(t),e[14](null)}}}function At(e){let t,s=e[17]+"",n;return{c(){t=T("option"),n=I(s),t.__value=e[17],t.value=t.__value},m(i,o){B(i,t,o),m(t,n)},p:G,d(i){i&&A(t)}}}function Ie(e){let t,s,n,i,o,h;return{c(){t=T("p"),s=I("Selected Hard ("),n=I(e[4]),i=I(" x "),o=I(e[4]),h=I(")")},m(r,l){B(r,t,l),m(t,s),m(t,n),m(t,i),m(t,o),m(t,h)},p(r,l){l&16&&lt(n,r[4]),l&16&&lt(o,r[4])},d(r){r&&A(t)}}}function Le(e){let t,s,n,i,o,h;return{c(){t=T("p"),s=I("Selected Medium ("),n=I(e[4]),i=I(" x "),o=I(e[4]),h=I(")")},m(r,l){B(r,t,l),m(t,s),m(t,n),m(t,i),m(t,o),m(t,h)},p(r,l){l&16&&lt(n,r[4]),l&16&&lt(o,r[4])},d(r){r&&A(t)}}}function qe(e){let t,s,n,i,o,h;return{c(){t=T("p"),s=I("Selected Easy ("),n=I(e[4]),i=I(" x "),o=I(e[4]),h=I(")")},m(r,l){B(r,t,l),m(t,s),m(t,n),m(t,i),m(t,o),m(t,h)},p(r,l){l&16&&lt(n,r[4]),l&16&&lt(o,r[4])},d(r){r&&A(t)}}}function Wt(e){let t,s;return t=new je({props:{img:e[2]}}),{c(){jt(t.$$.fragment)},m(n,i){vt(t,n,i),s=!0},p(n,i){const o={};i&4&&(o.img=n[2]),t.$set(o)},i(n){s||(tt(t.$$.fragment,n),s=!0)},o(n){ut(t.$$.fragment,n),s=!1},d(n){kt(t,n)}}}function He(e){let t,s,n,i,o,h,r,l,u,b,f,a,M,y,E,_,X,J,Y,P,W,V,v,F,K,it,rt,_t,L=e[0]&&Ot(e),Z=e[6],q=[];for(let p=0;p<Z.length;p+=1)q[p]=At(Ht(e,Z,p));function bt(p,O){if(p[3]==="Easy")return qe;if(p[3]==="Medium")return Le;if(p[3]==="Hard")return Ie}let x=bt(e),H=x&&x(e),S=e[1]&&Wt(e);return{c(){t=T("main"),s=T("h1"),s.textContent="Create your own jigsaw!",n=D(),i=T("form"),o=T("input"),h=D(),r=T("div"),l=T("button"),l.textContent="Select image",u=D(),b=T("p"),b.textContent="or",f=D(),a=T("button"),a.textContent="Solve random image",M=D(),L&&L.c(),y=D(),E=T("select");for(let p=0;p<q.length;p+=1)q[p].c();_=D(),H&&H.c(),X=D(),J=T("div"),Y=T("input"),P=D(),W=T("label"),W.innerHTML="<p>Background image</p>",V=D(),v=T("button"),v.textContent="Start",F=D(),S&&S.c(),K=ee(),k(o,"type","file"),k(o,"id","img"),k(o,"name","img"),k(o,"accept","image/*"),k(i,"class","form-1"),k(l,"class","img-button"),k(r,"class","choose-or-random-buttons"),e[3]===void 0&&pt(()=>e[15].call(E)),k(Y,"type","checkbox"),Y.checked=!0,k(Y,"id","switch"),k(Y,"class","checkbox"),k(W,"for","switch"),k(W,"class","toggle"),k(J,"class","background-image-checkbox-wrapper"),k(t,"class","container svelte-mporf1")},m(p,O){B(p,t,O),m(t,s),m(t,n),m(t,i),m(i,o),e[10](o),m(t,h),m(t,r),m(r,l),m(r,u),m(r,b),m(r,f),m(r,a),m(t,M),L&&L.m(t,null),m(t,y),m(t,E);for(let j=0;j<q.length;j+=1)q[j].m(E,null);Lt(E,e[3]),m(t,_),H&&H.m(t,null),m(t,X),m(t,J),m(J,Y),m(J,P),m(J,W),m(t,V),m(t,v),B(p,F,O),S&&S.m(p,O),B(p,K,O),it=!0,rt||(_t=[U(o,"change",e[11]),U(l,"click",se(e[12])),U(a,"click",e[13]),U(E,"change",e[15]),U(E,"click",e[8]),U(Y,"click",e[9]),U(v,"click",e[7])],rt=!0)},p(p,[O]){if(p[0]?L?L.p(p,O):(L=Ot(p),L.c(),L.m(t,y)):L&&(L.d(1),L=null),O&64){Z=p[6];let j;for(j=0;j<Z.length;j+=1){const c=Ht(p,Z,j);q[j]?q[j].p(c,O):(q[j]=At(c),q[j].c(),q[j].m(E,null))}for(;j<q.length;j+=1)q[j].d(1);q.length=Z.length}O&72&&Lt(E,p[3]),x===(x=bt(p))&&H?H.p(p,O):(H&&H.d(1),H=x&&x(p),H&&(H.c(),H.m(t,X))),p[1]?S?(S.p(p,O),O&2&&tt(S,1)):(S=Wt(p),S.c(),tt(S,1),S.m(K.parentNode,K)):S&&(de(),ut(S,1,1,()=>{S=null}),pe())},i(p){it||(tt(S),it=!0)},o(p){ut(S),it=!1},d(p){p&&A(t),e[10](null),L&&L.d(),te(q,p),H&&H.d(),p&&A(F),S&&S.d(p),p&&A(K),rt=!1,nt(_t)}}}function Oe(e,t,s){let n,i=!1,o;const h=["Easy","Medium","Hard"];let r=h[0];ht.update(P=>5);let l;ht.subscribe(P=>{s(4,l=P)}),ct.update(P=>.4);let u;ct.subscribe(P=>{u=P});function b(){n&&(s(1,i=!0),s(2,o.style.display="none",o))}function f(){r==="Easy"?ht.update(P=>5):r==="Medium"?ht.update(P=>7):r==="Hard"&&ht.update(P=>10)}function a(){u>0?ct.update(P=>0):ct.update(P=>.4)}let M;function y(P){et[P?"unshift":"push"](()=>{M=P,s(5,M)})}const E=P=>{let W=P.target.form[0].files[0];W&&s(0,n=URL.createObjectURL(W)),console.log(n)},_=()=>{M.click()},X=()=>s(0,n="https://picsum.photos/500?random="+Math.floor(Math.random()*1e3));function J(P){et[P?"unshift":"push"](()=>{o=P,s(2,o)})}function Y(){r=re(this),s(3,r),s(6,h)}return[n,i,o,r,l,M,h,b,f,a,y,E,_,X,J,Y]}class Ae extends Tt{constructor(t){super(),zt(this,t,Oe,He,gt,{})}}new Ae({target:document.getElementById("app")});
