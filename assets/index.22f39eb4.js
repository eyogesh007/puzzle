(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const h of o.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&n(h)}).observe(document,{childList:!0,subtree:!0});function s(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=s(i);fetch(i.href,o)}})();function J(){}function Jt(e,t){for(const s in t)e[s]=t[s];return e}function At(e){return e()}function Rt(){return Object.create(null)}function et(e){e.forEach(At)}function Wt(e){return typeof e=="function"}function dt(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let _t;function Tt(e,t){return _t||(_t=document.createElement("a")),_t.href=t,e===_t.href}function Kt(e){return Object.keys(e).length===0}function Ut(e,t,s,n){if(e){const i=Nt(e,t,s,n);return e[0](i)}}function Nt(e,t,s,n){return e[1]&&n?Jt(s.ctx.slice(),e[1](n(t))):s.ctx}function Gt(e,t,s,n){if(e[2]&&n){const i=e[2](n(s));if(t.dirty===void 0)return i;if(typeof i=="object"){const o=[],h=Math.max(t.dirty.length,i.length);for(let r=0;r<h;r+=1)o[r]=t.dirty[r]|i[r];return o}return t.dirty|i}return t.dirty}function Qt(e,t,s,n,i,o){if(i){const h=Nt(t,s,n,o);e.p(h,i)}}function Vt(e){if(e.ctx.length>32){const t=[],s=e.ctx.length/32;for(let n=0;n<s;n++)t[n]=-1;return t}return-1}function Zt(e){return e&&Wt(e.destroy)?e.destroy:J}function m(e,t){e.appendChild(t)}function N(e,t,s){e.insertBefore(t,s||null)}function O(e){e.parentNode.removeChild(e)}function xt(e,t){for(let s=0;s<e.length;s+=1)e[s]&&e[s].d(t)}function C(e){return document.createElement(e)}function j(e){return document.createTextNode(e)}function B(){return j(" ")}function $t(){return j("")}function D(e,t,s,n){return e.addEventListener(t,s,n),()=>e.removeEventListener(t,s,n)}function te(e){return function(t){return t.preventDefault(),e.call(this,t)}}function z(e,t,s){s==null?e.removeAttribute(t):e.getAttribute(t)!==s&&e.setAttribute(t,s)}function ee(e){return Array.from(e.childNodes)}function rt(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function se(e,t,s,n){s===null?e.style.removeProperty(t):e.style.setProperty(t,s,n?"important":"")}function jt(e,t){for(let s=0;s<e.options.length;s+=1){const n=e.options[s];if(n.__value===t){n.selected=!0;return}}e.selectedIndex=-1}function ne(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}let ct;function at(e){ct=e}function pt(){if(!ct)throw new Error("Function called outside component initialization");return ct}function ie(e){pt().$$.on_mount.push(e)}function Bt(e){pt().$$.on_destroy.push(e)}function re(e,t){return pt().$$.context.set(e,t),t}function oe(e){return pt().$$.context.get(e)}function he(e,t){const s=e.$$.callbacks[t.type];s&&s.slice().forEach(n=>n.call(this,t))}const lt=[],x=[],yt=[],Lt=[],le=Promise.resolve();let Ct=!1;function ue(){Ct||(Ct=!0,le.then(Xt))}function ft(e){yt.push(e)}const zt=new Set;let bt=0;function Xt(){const e=ct;do{for(;bt<lt.length;){const t=lt[bt];bt++,at(t),ae(t.$$)}for(at(null),lt.length=0,bt=0;x.length;)x.pop()();for(let t=0;t<yt.length;t+=1){const s=yt[t];zt.has(s)||(zt.add(s),s())}yt.length=0}while(lt.length);for(;Lt.length;)Lt.pop()();Ct=!1,zt.clear(),at(e)}function ae(e){if(e.fragment!==null){e.update(),et(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ft)}}const wt=new Set;let tt;function ce(){tt={r:0,c:[],p:tt}}function fe(){tt.r||et(tt.c),tt=tt.p}function Z(e,t){e&&e.i&&(wt.delete(e),e.i(t))}function ot(e,t,s,n){if(e&&e.o){if(wt.has(e))return;wt.add(e),tt.c.push(()=>{wt.delete(e),n&&(s&&e.d(1),n())}),e.o(t)}else n&&n()}const de=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function St(e){e&&e.c()}function Mt(e,t,s,n){const{fragment:i,on_mount:o,on_destroy:h,after_update:r}=e.$$;i&&i.m(t,s),n||ft(()=>{const u=o.map(At).filter(Wt);h?h.push(...u):et(u),e.$$.on_mount=[]}),r.forEach(ft)}function Pt(e,t){const s=e.$$;s.fragment!==null&&(et(s.on_destroy),s.fragment&&s.fragment.d(t),s.on_destroy=s.fragment=null,s.ctx=[])}function pe(e,t){e.$$.dirty[0]===-1&&(lt.push(e),ue(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function vt(e,t,s,n,i,o,h,r=[-1]){const u=ct;at(e);const a=e.$$={fragment:null,ctx:null,props:o,update:J,not_equal:i,bound:Rt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:Rt(),dirty:r,skip_bound:!1,root:t.target||u.$$.root};h&&h(a.root);let b=!1;if(a.ctx=s?s(e,t.props||{},(f,c,...P)=>{const M=P.length?P[0]:c;return a.ctx&&i(a.ctx[f],a.ctx[f]=M)&&(!a.skip_bound&&a.bound[f]&&a.bound[f](M),b&&pe(e,f)),c}):[],a.update(),b=!0,et(a.before_update),a.fragment=n?n(a.ctx):!1,t.target){if(t.hydrate){const f=ee(t.target);a.fragment&&a.fragment.l(f),f.forEach(O)}else a.fragment&&a.fragment.c();t.intro&&Z(e.$$.fragment),Mt(e,t.target,t.anchor,t.customElement),Xt()}at(u)}class kt{$destroy(){Pt(this,1),this.$destroy=J}$on(t,s){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(s),()=>{const i=n.indexOf(s);i!==-1&&n.splice(i,1)}}$set(t){this.$$set&&!Kt(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const ge=["focus","blur","fullscreenchange","fullscreenerror","scroll","cut","copy","paste","keydown","keypress","keyup","auxclick","click","contextmenu","dblclick","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseout","mouseup","pointerlockchange","pointerlockerror","select","wheel","drag","dragend","dragenter","dragstart","dragleave","dragover","drop","touchcancel","touchend","touchmove","touchstart","pointerover","pointerenter","pointerdown","pointermove","pointerup","pointercancel","pointerout","pointerleave","gotpointercapture","lostpointercapture"];function me(){const e=pt();return t=>{const s=ge.map(n=>D(t,n,i=>he(e,i)));return{destroy:()=>s.forEach(n=>n())}}}class _e{constructor(){this.register=this.register.bind(this),this.unregister=this.unregister.bind(this),this.redraw=this.redraw.bind(this),this.resize=this.resize.bind(this),this.render=this.render.bind(this),this.currentLayerId=0,this.setups=new Map,this.renderers=new Map,this.needsSetup=!1,this.needsResize=!0,this.needsRedraw=!0,this.layerSequence=[]}redraw(){this.needsRedraw=!0}resize(){this.needsResize=!0,this.needsRedraw=!0}register({setup:t,render:s}){return t&&(this.setups.set(this.currentLayerId,t),this.needsSetup=!0),this.renderers.set(this.currentLayerId,s),this.needsRedraw=!0,this.currentLayerId++}unregister(t){this.renderers.delete(t),this.needsRedraw=!0}render({autoclear:t,pixelRatio:s,context:n,width:i,height:o}){const h={context:n,width:i,height:o};if(this.needsResize&&(n.setTransform(s,0,0,s,0,0),this.needsResize=!1),this.needsSetup){for(const[r,u]of this.setups)u(h),this.setups.delete(r);this.needsSetup=!1}if(this.needsRedraw){t&&n.clearRect(0,0,i,o);for(const r of this.layerSequence)this.renderers.get(r)(h);this.needsRedraw=!1}}}function be(e){let t,s,n,i,o,h,r,u,a;const b=e[13].default,f=Ut(b,e,e[12],null);return{c(){t=C("canvas"),o=B(),h=C("div"),f&&f.c(),z(t,"style",s="display: block; width: "+e[1]+"px; height: "+e[2]+"px;"+(e[3]?` ${e[3]}`:"")),z(t,"width",n=e[1]*e[0]),z(t,"height",i=e[2]*e[0]),se(h,"display","none")},m(c,P){N(c,t,P),e[14](t),N(c,o,P),N(c,h,P),f&&f.m(h,null),e[15](h),r=!0,u||(a=Zt(e[6].call(null,t)),u=!0)},p(c,[P]){(!r||P&14&&s!==(s="display: block; width: "+c[1]+"px; height: "+c[2]+"px;"+(c[3]?` ${c[3]}`:"")))&&z(t,"style",s),(!r||P&3&&n!==(n=c[1]*c[0]))&&z(t,"width",n),(!r||P&5&&i!==(i=c[2]*c[0]))&&z(t,"height",i),f&&f.p&&(!r||P&4096)&&Qt(f,b,c,c[12],r?Gt(b,c[12],P,null):Vt(c[12]),null)},i(c){r||(Z(f,c),r=!0)},o(c){ot(f,c),r=!1},d(c){c&&O(t),e[14](null),c&&O(o),c&&O(h),f&&f.d(c),e[15](null),u=!1,a()}}}const Yt={};function ye(e,t,s){let{$$slots:n={},$$scope:i}=t,{width:o=640,height:h=640,pixelRatio:r=void 0,style:u=null,autoclear:a=!0}=t,b,f,c,P,M;const R=me(),y=new _e;function K(){y.redraw()}function X(){return b}function L(){return f}r===void 0&&(typeof window>"u"?r=2:r=window.devicePixelRatio);function k(){y.render({context:f,width:o,height:h,pixelRatio:r,autoclear:a}),c=window.requestAnimationFrame(k)}re(Yt,{register:y.register,unregister:y.unregister,redraw:y.redraw}),ie(()=>{f=b.getContext("2d"),M=new MutationObserver(v),M.observe(P,{childList:!0}),v(),k();function v(){const $=[...P.children].map(F=>+F.dataset.layerId);s(11,y.layerSequence=$,y),y.redraw()}}),Bt(()=>{typeof window>"u"||(window.cancelAnimationFrame(c),M.disconnect())});function A(v){x[v?"unshift":"push"](()=>{b=v,s(4,b)})}function Y(v){x[v?"unshift":"push"](()=>{P=v,s(5,P)})}return e.$$set=v=>{"width"in v&&s(1,o=v.width),"height"in v&&s(2,h=v.height),"pixelRatio"in v&&s(0,r=v.pixelRatio),"style"in v&&s(3,u=v.style),"autoclear"in v&&s(7,a=v.autoclear),"$$scope"in v&&s(12,i=v.$$scope)},e.$$.update=()=>{e.$$.dirty&2183&&y.resize()},[r,o,h,u,b,P,R,a,K,X,L,y,i,n,A,Y]}class we extends kt{constructor(t){super(),vt(this,t,ye,be,dt,{width:1,height:2,pixelRatio:0,style:3,autoclear:7,redraw:8,getCanvas:9,getContext:10})}get redraw(){return this.$$.ctx[8]}get getCanvas(){return this.$$.ctx[9]}get getContext(){return this.$$.ctx[10]}}function Me(e){let t;return{c(){t=C("div"),z(t,"data-layer-id",e[0])},m(s,n){N(s,t,n)},p:J,i:J,o:J,d(s){s&&O(t)}}}function Pe(e,t,s){const{register:n,unregister:i,redraw:o}=oe(Yt);let{setup:h=void 0,render:r=()=>{}}=t;if(typeof h!="function"&&h!==void 0)throw new Error("setup must be a function");if(typeof r!="function")throw new Error("render must be a function");const u=n({setup:h,render:r});return Bt(()=>i(u)),e.$$set=a=>{"setup"in a&&s(1,h=a.setup),"render"in a&&s(2,r=a.render)},e.$$.update=()=>{e.$$.dirty&4&&o()},[u,h,r]}class ve extends kt{constructor(t){super(),vt(this,t,Pe,Me,dt,{setup:1,render:2})}}const nt=[];function Ft(e,t=J){let s;const n=new Set;function i(r){if(dt(e,r)&&(e=r,s)){const u=!nt.length;for(const a of n)a[1](),nt.push(a,e);if(u){for(let a=0;a<nt.length;a+=2)nt[a][0](nt[a+1]);nt.length=0}}}function o(r){i(r(e))}function h(r,u=J){const a=[r,u];return n.add(a),n.size===1&&(s=t(i)||J),r(e),()=>{n.delete(a),n.size===0&&(s(),s=null)}}return{set:i,update:o,subscribe:h}}const ke="/jigsaw-svelte/assets/puzzle.7b2c6e4e.wav",it=Ft(0),ut=Ft(0),{window:Et}=de;function ze(e){let t,s;return t=new ve({props:{render:e[3],setup:e[8]}}),{c(){St(t.$$.fragment)},m(n,i){Mt(t,n,i),s=!0},p(n,i){const o={};i[0]&8&&(o.render=n[3]),t.$set(o)},i(n){s||(Z(t.$$.fragment,n),s=!0)},o(n){ot(t.$$.fragment,n),s=!1},d(n){Pt(t,n)}}}function Te(e){let t,s,n,i,o,h,r,u;ft(e[12]);let a={width:e[0]-50,height:Dt,style:"margin: 0 auto; border: 1px solid black",$$slots:{default:[ze]},$$scope:{ctx:e}};return t=new we({props:a}),e[13](t),t.$on("mousedown",e[14]),t.$on("mousemove",e[15]),t.$on("mouseup",e[16]),t.$on("touchstart",e[17]),t.$on("touchmove",e[18]),t.$on("touchend",e[19]),{c(){St(t.$$.fragment),s=B(),n=C("audio"),i=C("track"),z(i,"kind","captions"),Tt(n.src,o=ke)||z(n,"src",o),z(n,"preload","auto"),n.controls=!0},m(b,f){Mt(t,b,f),N(b,s,f),N(b,n,f),m(n,i),e[20](n),h=!0,r||(u=[D(Et,"resize",e[7]),D(Et,"resize",e[12])],r=!0)},p(b,f){const c={};f[0]&1&&(c.width=b[0]-50),f[0]&8|f[1]&32&&(c.$$scope={dirty:f,ctx:b}),t.$set(c)},i(b){h||(Z(t.$$.fragment,b),h=!0)},o(b){ot(t.$$.fragment,b),h=!1},d(b){e[13](null),Pt(t,b),b&&O(s),b&&O(n),e[20](null),r=!1,et(u)}}}const Ce=.7,Dt=1e3;function Ee(e,t,s){let n,{img:i}=t,o;it.subscribe(l=>{o=l});let h;ut.subscribe(l=>{s(10,h=l)}),window.devicePixelRatio=1;const r=o,u=o;let a=window.innerWidth;const b=Ce*Math.min(a/i.naturalWidth,Dt/i.naturalHeight),f=b*i.naturalWidth,c=b*i.naturalHeight;let P=(a-50)/2-f/2,M=[],R,y;class K{constructor(_,E,p,T){this.width=f/u,this.height=c/r,this.i=_,this.j=E,this.correctPos={x:p.x,y:p.y},this.currentPos={x:T.x,y:T.y},this.path=null,this.borderpath=null,this.shape={}}draw(_){const E=Math.min(this.width,this.height),p=.08*E,T=.2*E,w=.2*E;let g=this.currentPos.x+P;this.path=new Path2D,this.path.moveTo(g,this.currentPos.y),this.shape.top&&(this.path.lineTo(g+this.width*Math.abs(this.shape.top)-p,this.currentPos.y),this.path.bezierCurveTo(g+this.width*Math.abs(this.shape.top)-p,this.currentPos.y-w*Math.sign(this.shape.top)*.2,g+this.width*Math.abs(this.shape.top)-T,this.currentPos.y-w*Math.sign(this.shape.top),g+this.width*Math.abs(this.shape.top),this.currentPos.y-w*Math.sign(this.shape.top)),this.path.bezierCurveTo(g+this.width*Math.abs(this.shape.top)+T,this.currentPos.y-w*Math.sign(this.shape.top),g+this.width*Math.abs(this.shape.top)+p,this.currentPos.y-w*Math.sign(this.shape.top)*.2,g+this.width*Math.abs(this.shape.top)+p,this.currentPos.y)),this.path.lineTo(g+this.width,this.currentPos.y),this.shape.right&&(this.path.lineTo(g+this.width,this.currentPos.y+this.height*Math.abs(this.shape.right)-p),this.path.bezierCurveTo(g+this.width-w*Math.sign(this.shape.right)*.2,this.currentPos.y+this.height*Math.abs(this.shape.right)-p,g+this.width-w*Math.sign(this.shape.right),this.currentPos.y+this.height*Math.abs(this.shape.right)-T,g+this.width-w*Math.sign(this.shape.right),this.currentPos.y+this.height*Math.abs(this.shape.right)),this.path.bezierCurveTo(g+this.width-w*Math.sign(this.shape.right),this.currentPos.y+this.height*Math.abs(this.shape.right)+T,g+this.width-w*Math.sign(this.shape.right)*.2,this.currentPos.y+this.height*Math.abs(this.shape.right)+p,g+this.width,this.currentPos.y+this.height*Math.abs(this.shape.right)+p)),this.path.lineTo(g+this.width,this.currentPos.y+this.height),this.shape.bottom&&(this.path.lineTo(g+this.width*Math.abs(this.shape.bottom)+p,this.currentPos.y+this.height),this.path.bezierCurveTo(g+this.width*Math.abs(this.shape.bottom)+p,this.currentPos.y+this.height+w*Math.sign(this.shape.bottom)*.2,g+this.width*Math.abs(this.shape.bottom)+T,this.currentPos.y+this.height+w*Math.sign(this.shape.bottom),g+this.width*Math.abs(this.shape.bottom),this.currentPos.y+this.height+w*Math.sign(this.shape.bottom)),this.path.bezierCurveTo(g+this.width*Math.abs(this.shape.bottom)-T,this.currentPos.y+this.height+w*Math.sign(this.shape.bottom),g+this.width*Math.abs(this.shape.bottom)-p,this.currentPos.y+this.height+w*Math.sign(this.shape.bottom)*.2,g+this.width*Math.abs(this.shape.bottom)-p,this.currentPos.y+this.height)),this.path.lineTo(g,this.currentPos.y+this.height),this.shape.left&&(this.path.lineTo(g,this.currentPos.y+this.height*Math.abs(this.shape.left)+p),this.path.bezierCurveTo(g+w*Math.sign(this.shape.left)*.2,this.currentPos.y+this.height*Math.abs(this.shape.left)+p,g+w*Math.sign(this.shape.left),this.currentPos.y+this.height*Math.abs(this.shape.left)+T,g+w*Math.sign(this.shape.left),this.currentPos.y+this.height*Math.abs(this.shape.left)),this.path.bezierCurveTo(g+w*Math.sign(this.shape.left),this.currentPos.y+this.height*Math.abs(this.shape.left)-T,g+w*Math.sign(this.shape.left)*.2,this.currentPos.y+this.height*Math.abs(this.shape.left)-p,g,this.currentPos.y+this.height*Math.abs(this.shape.left)-p)),this.path.lineTo(g,this.currentPos.y),_.save(),_.clip(this.path);let U=i.naturalWidth/u,W=i.naturalHeight/r,V=Math.min(U,W)*w/E;_.drawImage(i,this.i*U-V,this.j*W-V,U+V*2,W+V*2,g-w,this.currentPos.y-w,this.width+w*2,this.height+w*2),_.restore(),_.stroke(this.path)}}function X(l,_,E){for(let p=0;p<l.length;p++)l[p].currentPos.x=Math.floor(Math.random()*_)-P,l[p].currentPos.y=Math.floor(Math.random()*E)}let L;function k(l,_){let E=L.getContext();for(let p=M.length-1;p>=0;p--)if(E.isPointInPath(M[p].path,l,_)){y=M[p];break}if(y){R={x:l-y.currentPos.x,y:_-y.currentPos.y};let p=M.splice(M.findIndex(T=>T.j==y.j&&T.i==y.i),1);M.push(p[0]),s(11,M)}}function A(l,_){R&&(y.currentPos.x=l-R.x,y.currentPos.y=_-R.y,s(11,M))}let Y;function v(){if(y){let l=30;if(Math.abs(y.currentPos.x-y.correctPos.x)<l&&Math.abs(y.currentPos.y-y.correctPos.y)<l){Y.play(),setTimeout(()=>{Y.pause(),s(2,Y.currentTime=0,Y)},500),y.currentPos.x=y.correctPos.x,y.currentPos.y=y.correctPos.y;let _=M.splice(M.findIndex(E=>E.j==y.j&&E.i==y.i),1);M.unshift(_[0]),s(11,M)}R=null,y=null}}function $(){P=(a-50)/2-f/2,L.redraw()}let F;function st(){clearTimeout(F),F=setTimeout($,100)}const ht=({context:l,width:_,height:E})=>{for(let T=0;T<u;T++)for(let w=0;w<r;w++){let g=T*f/u,U=E/2-c/2+w*c/r,W=new K(T,w,{x:g,y:U},{x:g,y:U});M.push(W)}let p=0;for(let T=0;T<u;T++)for(let w=0;w<r;w++){let g=w,U=T,W=M[p];if(g==r-1)W.shape.bottom=null;else{let V=Math.random()-.5<0?-1:1;W.shape.bottom=V*(Math.random()*.4+.3)}if(U==u-1)W.shape.right=null;else{let V=Math.random()-.5<0?-1:1;W.shape.right=V*(Math.random()*.4+.3)}g==0?W.shape.top=null:W.shape.top=-M[p-1].shape.bottom,U==0?W.shape.left=null:W.shape.left=-M[p-r].shape.right,p++}X(M,_-f/u,E-c/r)};function gt(){s(0,a=Et.innerWidth)}function I(l){x[l?"unshift":"push"](()=>{L=l,s(1,L)})}const G=l=>{k(l.offsetX,l.offsetY)},q=l=>{A(l.offsetX,l.offsetY)},mt=()=>{v()},Q=l=>k(l.touches[0].clientX,l.touches[0].clientY),H=l=>{A(l.touches[0].clientX,l.touches[0].clientY)},S=()=>{v()};function d(l){x[l?"unshift":"push"](()=>{Y=l,s(2,Y)})}return e.$$set=l=>{"img"in l&&s(9,i=l.img)},e.$$.update=()=>{e.$$.dirty[0]&3584&&s(3,n=({context:l,width:_,height:E})=>{l.globalAlpha=h,l.drawImage(i,_/2-f/2,E/2-c/2,f,c),l.globalAlpha=1,h==0&&(l.beginPath(),l.rect(_/2-f/2,E/2-c/2,f,c),l.stroke());for(let p=0;p<M.length;p++)M[p].draw(l)})},[a,L,Y,n,k,A,v,st,ht,i,h,M,gt,I,G,q,mt,Q,H,S,d]}class Se extends kt{constructor(t){super(),vt(this,t,Ee,Te,dt,{img:9},null,[-1,-1])}}function It(e,t,s){const n=e.slice();return n[17]=t[s],n}function qt(e){let t,s;return{c(){t=C("img"),Tt(t.src,s=e[0])||z(t,"src",s),z(t,"alt","puzzle"),z(t,"width","700px")},m(n,i){N(n,t,i),e[14](t)},p(n,i){i&1&&!Tt(t.src,s=n[0])&&z(t,"src",s)},d(n){n&&O(t),e[14](null)}}}function Ht(e){let t,s=e[17]+"",n;return{c(){t=C("option"),n=j(s),t.__value=e[17],t.value=t.__value},m(i,o){N(i,t,o),m(t,n)},p:J,d(i){i&&O(t)}}}function Re(e){let t,s,n,i,o,h;return{c(){t=C("p"),s=j("Selected Hard ("),n=j(e[4]),i=j(" x "),o=j(e[4]),h=j(")")},m(r,u){N(r,t,u),m(t,s),m(t,n),m(t,i),m(t,o),m(t,h)},p(r,u){u&16&&rt(n,r[4]),u&16&&rt(o,r[4])},d(r){r&&O(t)}}}function je(e){let t,s,n,i,o,h;return{c(){t=C("p"),s=j("Selected Medium ("),n=j(e[4]),i=j(" x "),o=j(e[4]),h=j(")")},m(r,u){N(r,t,u),m(t,s),m(t,n),m(t,i),m(t,o),m(t,h)},p(r,u){u&16&&rt(n,r[4]),u&16&&rt(o,r[4])},d(r){r&&O(t)}}}function Le(e){let t,s,n,i,o,h;return{c(){t=C("p"),s=j("Selected Easy ("),n=j(e[4]),i=j(" x "),o=j(e[4]),h=j(")")},m(r,u){N(r,t,u),m(t,s),m(t,n),m(t,i),m(t,o),m(t,h)},p(r,u){u&16&&rt(n,r[4]),u&16&&rt(o,r[4])},d(r){r&&O(t)}}}function Ot(e){let t,s;return t=new Se({props:{img:e[2]}}),{c(){St(t.$$.fragment)},m(n,i){Mt(t,n,i),s=!0},p(n,i){const o={};i&4&&(o.img=n[2]),t.$set(o)},i(n){s||(Z(t.$$.fragment,n),s=!0)},o(n){ot(t.$$.fragment,n),s=!1},d(n){Pt(t,n)}}}function Ie(e){let t,s,n,i,o,h,r,u,a,b,f,c,P,M,R,y,K,X,L,k,A,Y,v,$,F,st,ht,gt,I=e[0]&&qt(e),G=e[6],q=[];for(let d=0;d<G.length;d+=1)q[d]=Ht(It(e,G,d));function mt(d,l){if(d[3]==="Easy")return Le;if(d[3]==="Medium")return je;if(d[3]==="Hard")return Re}let Q=mt(e),H=Q&&Q(e),S=e[1]&&Ot(e);return{c(){t=C("main"),s=C("h1"),s.textContent="Create your own jigsaw!",n=B(),i=C("form"),o=C("input"),h=B(),r=C("div"),u=C("button"),u.textContent="Select image",a=B(),b=C("p"),b.textContent="or",f=B(),c=C("button"),c.textContent="Solve random image",P=B(),I&&I.c(),M=B(),R=C("select");for(let d=0;d<q.length;d+=1)q[d].c();y=B(),H&&H.c(),K=B(),X=C("div"),L=C("input"),k=B(),A=C("label"),A.innerHTML="<p>Background image</p>",Y=B(),v=C("button"),v.textContent="Start",$=B(),S&&S.c(),F=$t(),z(o,"type","file"),z(o,"id","img"),z(o,"name","img"),z(o,"accept","image/*"),z(i,"class","form-1"),z(u,"class","img-button"),z(r,"class","choose-or-random-buttons"),e[3]===void 0&&ft(()=>e[15].call(R)),z(L,"type","checkbox"),L.checked=!0,z(L,"id","switch"),z(L,"class","checkbox"),z(A,"for","switch"),z(A,"class","toggle"),z(X,"class","background-image-checkbox-wrapper"),z(t,"class","container svelte-mporf1")},m(d,l){N(d,t,l),m(t,s),m(t,n),m(t,i),m(i,o),e[10](o),m(t,h),m(t,r),m(r,u),m(r,a),m(r,b),m(r,f),m(r,c),m(t,P),I&&I.m(t,null),m(t,M),m(t,R);for(let _=0;_<q.length;_+=1)q[_].m(R,null);jt(R,e[3]),m(t,y),H&&H.m(t,null),m(t,K),m(t,X),m(X,L),m(X,k),m(X,A),m(t,Y),m(t,v),N(d,$,l),S&&S.m(d,l),N(d,F,l),st=!0,ht||(gt=[D(o,"change",e[11]),D(u,"click",te(e[12])),D(c,"click",e[13]),D(R,"change",e[15]),D(R,"click",e[8]),D(L,"click",e[9]),D(v,"click",e[7])],ht=!0)},p(d,[l]){if(d[0]?I?I.p(d,l):(I=qt(d),I.c(),I.m(t,M)):I&&(I.d(1),I=null),l&64){G=d[6];let _;for(_=0;_<G.length;_+=1){const E=It(d,G,_);q[_]?q[_].p(E,l):(q[_]=Ht(E),q[_].c(),q[_].m(R,null))}for(;_<q.length;_+=1)q[_].d(1);q.length=G.length}l&72&&jt(R,d[3]),Q===(Q=mt(d))&&H?H.p(d,l):(H&&H.d(1),H=Q&&Q(d),H&&(H.c(),H.m(t,K))),d[1]?S?(S.p(d,l),l&2&&Z(S,1)):(S=Ot(d),S.c(),Z(S,1),S.m(F.parentNode,F)):S&&(ce(),ot(S,1,1,()=>{S=null}),fe())},i(d){st||(Z(S),st=!0)},o(d){ot(S),st=!1},d(d){d&&O(t),e[10](null),I&&I.d(),xt(q,d),H&&H.d(),d&&O($),S&&S.d(d),d&&O(F),ht=!1,et(gt)}}}function qe(e,t,s){let n,i=!1,o;const h=["Easy","Medium","Hard"];let r=h[0];it.update(k=>5);let u;it.subscribe(k=>{s(4,u=k)}),ut.update(k=>.4);let a;ut.subscribe(k=>{a=k});function b(){n&&(s(1,i=!0),s(2,o.style.display="none",o))}function f(){r==="Easy"?it.update(k=>5):r==="Medium"?it.update(k=>7):r==="Hard"&&it.update(k=>10)}function c(){a>0?ut.update(k=>0):ut.update(k=>.4)}let P;function M(k){x[k?"unshift":"push"](()=>{P=k,s(5,P)})}const R=k=>{let A=k.target.form[0].files[0];A&&s(0,n=URL.createObjectURL(A)),console.log(n)},y=()=>{P.click()},K=()=>s(0,n="https://picsum.photos/500?random="+Math.floor(Math.random()*1e3));function X(k){x[k?"unshift":"push"](()=>{o=k,s(2,o)})}function L(){r=ne(this),s(3,r),s(6,h)}return[n,i,o,r,u,P,h,b,f,c,M,R,y,K,X,L]}class He extends kt{constructor(t){super(),vt(this,t,qe,Ie,dt,{})}}new He({target:document.getElementById("app")});
