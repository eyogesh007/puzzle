(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerpolicy&&(o.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?o.credentials="include":r.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();function R(){}const Yt=e=>e;function Re(e,t){for(const n in t)e[n]=t[n];return e}function ye(e){return e()}function le(){return Object.create(null)}function it(e){e.forEach(ye)}function Et(e){return typeof e=="function"}function G(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let xt;function dt(e,t){return xt||(xt=document.createElement("a")),xt.href=t,e===xt.href}function xe(e){return Object.keys(e).length===0}function Ie(e,...t){if(e==null)return R;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function at(e,t,n){e.$$.on_destroy.push(Ie(t,n))}function Vt(e,t,n,s){if(e){const r=ve(e,t,n,s);return e[0](r)}}function ve(e,t,n,s){return e[1]&&s?Re(n.ctx.slice(),e[1](s(t))):n.ctx}function Zt(e,t,n,s){if(e[2]&&s){const r=e[2](s(n));if(t.dirty===void 0)return r;if(typeof r=="object"){const o=[],i=Math.max(t.dirty.length,r.length);for(let l=0;l<i;l+=1)o[l]=t.dirty[l]|r[l];return o}return t.dirty|r}return t.dirty}function te(e,t,n,s,r,o){if(r){const i=ve(t,n,s,o);e.p(i,r)}}function ee(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let s=0;s<n;s++)t[s]=-1;return t}return-1}function Y(e,t,n){return e.set(n),t}function Le(e){return e&&Et(e.destroy)?e.destroy:R}const ke=typeof window<"u";let ne=ke?()=>window.performance.now():()=>Date.now(),se=ke?e=>requestAnimationFrame(e):R;const bt=new Set;function Me(e){bt.forEach(t=>{t.c(e)||(bt.delete(t),t.f())}),bt.size!==0&&se(Me)}function ie(e){let t;return bt.size===0&&se(Me),{promise:new Promise(n=>{bt.add(t={c:e,f:n})}),abort(){bt.delete(t)}}}function g(e,t){e.appendChild(t)}function Pe(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function Oe(e){const t=b("style");return We(Pe(e),t),t.sheet}function We(e,t){return g(e.head||e,t),t.sheet}function z(e,t,n){e.insertBefore(t,n||null)}function M(e){e.parentNode.removeChild(e)}function Ne(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function b(e){return document.createElement(e)}function wt(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function L(e){return document.createTextNode(e)}function j(){return L(" ")}function Ae(){return L("")}function B(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function De(e){return function(t){return t.preventDefault(),e.call(this,t)}}function d(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function qe(e){return Array.from(e.childNodes)}function pt(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function Fe(e,t,n,s){n===null?e.style.removeProperty(t):e.style.setProperty(t,n,s?"important":"")}function ae(e,t){for(let n=0;n<e.options.length;n+=1){const s=e.options[n];if(s.__value===t){s.selected=!0;return}}e.selectedIndex=-1}function Be(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function ze(e,t,{bubbles:n=!1,cancelable:s=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(e,n,s,t),r}const Dt=new Map;let qt=0;function He(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function Ye(e,t){const n={stylesheet:Oe(t),rules:{}};return Dt.set(e,n),n}function Ft(e,t,n,s,r,o,i,l=0){const a=16.666/s;let c=`{
`;for(let w=0;w<=1;w+=a){const y=t+(n-t)*o(w);c+=w*100+`%{${i(y,1-y)}}
`}const u=c+`100% {${i(n,1-n)}}
}`,f=`__svelte_${He(u)}_${l}`,h=Pe(e),{stylesheet:p,rules:k}=Dt.get(h)||Ye(h,e);k[f]||(k[f]=!0,p.insertRule(`@keyframes ${f} ${u}`,p.cssRules.length));const _=e.style.animation||"";return e.style.animation=`${_?`${_}, `:""}${f} ${s}ms linear ${r}ms 1 both`,qt+=1,f}function Bt(e,t){const n=(e.style.animation||"").split(", "),s=n.filter(t?o=>o.indexOf(t)<0:o=>o.indexOf("__svelte")===-1),r=n.length-s.length;r&&(e.style.animation=s.join(", "),qt-=r,qt||Xe())}function Xe(){se(()=>{qt||(Dt.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&M(t)}),Dt.clear())})}let Ct;function St(e){Ct=e}function yt(){if(!Ct)throw new Error("Function called outside component initialization");return Ct}function Ge(e){yt().$$.on_mount.push(e)}function $e(e){yt().$$.on_destroy.push(e)}function Je(){const e=yt();return(t,n,{cancelable:s=!1}={})=>{const r=e.$$.callbacks[t];if(r){const o=ze(t,n,{cancelable:s});return r.slice().forEach(i=>{i.call(e,o)}),!o.defaultPrevented}return!0}}function Ke(e,t){return yt().$$.context.set(e,t),t}function Ue(e){return yt().$$.context.get(e)}function Qe(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(s=>s.call(this,t))}const $t=[],nt=[],Lt=[],Jt=[],Ve=Promise.resolve();let Kt=!1;function Ze(){Kt||(Kt=!0,Ve.then(Se))}function U(e){Lt.push(e)}function tn(e){Jt.push(e)}const Gt=new Set;let It=0;function Se(){const e=Ct;do{for(;It<$t.length;){const t=$t[It];It++,St(t),en(t.$$)}for(St(null),$t.length=0,It=0;nt.length;)nt.pop()();for(let t=0;t<Lt.length;t+=1){const n=Lt[t];Gt.has(n)||(Gt.add(n),n())}Lt.length=0}while($t.length);for(;Jt.length;)Jt.pop()();Kt=!1,Gt.clear(),St(e)}function en(e){if(e.fragment!==null){e.update(),it(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(U)}}let zt;function re(){return zt||(zt=Promise.resolve(),zt.then(()=>{zt=null})),zt}function ht(e,t,n){e.dispatchEvent(ze(`${t?"intro":"outro"}${n}`))}const Ot=new Set;let K;function Wt(){K={r:0,c:[],p:K}}function Nt(){K.r||it(K.c),K=K.p}function T(e,t){e&&e.i&&(Ot.delete(e),e.i(t))}function I(e,t,n,s){if(e&&e.o){if(Ot.has(e))return;Ot.add(e),K.c.push(()=>{Ot.delete(e),s&&(n&&e.d(1),s())}),e.o(t)}else s&&s()}const oe={duration:0};function nn(e,t,n){let s=t(e,n),r=!1,o,i,l=0;function a(){o&&Bt(e,o)}function c(){const{delay:f=0,duration:h=300,easing:p=Yt,tick:k=R,css:_}=s||oe;_&&(o=Ft(e,0,1,h,f,p,_,l++)),k(0,1);const w=ne()+f,y=w+h;i&&i.abort(),r=!0,U(()=>ht(e,!0,"start")),i=ie($=>{if(r){if($>=y)return k(1,0),ht(e,!0,"end"),a(),r=!1;if($>=w){const E=p(($-w)/h);k(E,1-E)}}return r})}let u=!1;return{start(){u||(u=!0,Bt(e),Et(s)?(s=s(),re().then(c)):c())},invalidate(){u=!1},end(){r&&(a(),r=!1)}}}function sn(e,t,n){let s=t(e,n),r=!0,o;const i=K;i.r+=1;function l(){const{delay:a=0,duration:c=300,easing:u=Yt,tick:f=R,css:h}=s||oe;h&&(o=Ft(e,1,0,c,a,u,h));const p=ne()+a,k=p+c;U(()=>ht(e,!1,"start")),ie(_=>{if(r){if(_>=k)return f(0,1),ht(e,!1,"end"),--i.r||it(i.c),!1;if(_>=p){const w=u((_-p)/c);f(1-w,w)}}return r})}return Et(s)?re().then(()=>{s=s(),l()}):l(),{end(a){a&&s.tick&&s.tick(1,0),r&&(o&&Bt(e,o),r=!1)}}}function ue(e,t,n,s){let r=t(e,n),o=s?0:1,i=null,l=null,a=null;function c(){a&&Bt(e,a)}function u(h,p){const k=h.b-o;return p*=Math.abs(k),{a:o,b:h.b,d:k,duration:p,start:h.start,end:h.start+p,group:h.group}}function f(h){const{delay:p=0,duration:k=300,easing:_=Yt,tick:w=R,css:y}=r||oe,$={start:ne()+p,b:h};h||($.group=K,K.r+=1),i||l?l=$:(y&&(c(),a=Ft(e,o,h,k,p,_,y)),h&&w(0,1),i=u($,k),U(()=>ht(e,h,"start")),ie(E=>{if(l&&E>l.start&&(i=u(l,k),l=null,ht(e,i.b,"start"),y&&(c(),a=Ft(e,o,i.b,i.duration,0,_,r.css))),i){if(E>=i.end)w(o=i.b,1-o),ht(e,i.b,"end"),l||(i.b?c():--i.group.r||it(i.group.c)),i=null;else if(E>=i.start){const C=E-i.start;o=i.a+i.d*_(C/i.duration),w(o,1-o)}}return!!(i||l)}))}return{run(h){Et(r)?re().then(()=>{r=r(),f(h)}):f(h)},end(){c(),i=l=null}}}const rn=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function on(e,t,n){const s=e.$$.props[t];s!==void 0&&(e.$$.bound[s]=n,n(e.$$.ctx[s]))}function st(e){e&&e.c()}function Q(e,t,n,s){const{fragment:r,on_mount:o,on_destroy:i,after_update:l}=e.$$;r&&r.m(t,n),s||U(()=>{const a=o.map(ye).filter(Et);i?i.push(...a):it(a),e.$$.on_mount=[]}),l.forEach(U)}function V(e,t){const n=e.$$;n.fragment!==null&&(it(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ln(e,t){e.$$.dirty[0]===-1&&($t.push(e),Ze(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Z(e,t,n,s,r,o,i,l=[-1]){const a=Ct;St(e);const c=e.$$={fragment:null,ctx:null,props:o,update:R,not_equal:r,bound:le(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:le(),dirty:l,skip_bound:!1,root:t.target||a.$$.root};i&&i(c.root);let u=!1;if(c.ctx=n?n(e,t.props||{},(f,h,...p)=>{const k=p.length?p[0]:h;return c.ctx&&r(c.ctx[f],c.ctx[f]=k)&&(!c.skip_bound&&c.bound[f]&&c.bound[f](k),u&&ln(e,f)),h}):[],c.update(),u=!0,it(c.before_update),c.fragment=s?s(c.ctx):!1,t.target){if(t.hydrate){const f=qe(t.target);c.fragment&&c.fragment.l(f),f.forEach(M)}else c.fragment&&c.fragment.c();t.intro&&T(e.$$.fragment),Q(e,t.target,t.anchor,t.customElement),Se()}St(a)}class tt{$destroy(){V(this,1),this.$destroy=R}$on(t,n){const s=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return s.push(n),()=>{const r=s.indexOf(n);r!==-1&&s.splice(r,1)}}$set(t){this.$$set&&!xe(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const an=["focus","blur","fullscreenchange","fullscreenerror","scroll","cut","copy","paste","keydown","keypress","keyup","auxclick","click","contextmenu","dblclick","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseout","mouseup","pointerlockchange","pointerlockerror","select","wheel","drag","dragend","dragenter","dragstart","dragleave","dragover","drop","touchcancel","touchend","touchmove","touchstart","pointerover","pointerenter","pointerdown","pointermove","pointerup","pointercancel","pointerout","pointerleave","gotpointercapture","lostpointercapture"];function un(){const e=yt();return t=>{const n=an.map(s=>B(t,s,r=>Qe(e,r)));return{destroy:()=>n.forEach(s=>s())}}}class cn{constructor(){this.register=this.register.bind(this),this.unregister=this.unregister.bind(this),this.redraw=this.redraw.bind(this),this.resize=this.resize.bind(this),this.render=this.render.bind(this),this.currentLayerId=0,this.setups=new Map,this.renderers=new Map,this.needsSetup=!1,this.needsResize=!0,this.needsRedraw=!0,this.layerSequence=[]}redraw(){this.needsRedraw=!0}resize(){this.needsResize=!0,this.needsRedraw=!0}register({setup:t,render:n}){return t&&(this.setups.set(this.currentLayerId,t),this.needsSetup=!0),this.renderers.set(this.currentLayerId,n),this.needsRedraw=!0,this.currentLayerId++}unregister(t){this.renderers.delete(t),this.needsRedraw=!0}render({autoclear:t,pixelRatio:n,context:s,width:r,height:o}){const i={context:s,width:r,height:o};if(this.needsResize&&(s.setTransform(n,0,0,n,0,0),this.needsResize=!1),this.needsSetup){for(const[l,a]of this.setups)a(i),this.setups.delete(l);this.needsSetup=!1}if(this.needsRedraw){t&&s.clearRect(0,0,r,o);for(const l of this.layerSequence)this.renderers.get(l)(i);this.needsRedraw=!1}}}function fn(e){let t,n,s,r,o,i,l,a,c;const u=e[13].default,f=Vt(u,e,e[12],null);return{c(){t=b("canvas"),o=j(),i=b("div"),f&&f.c(),d(t,"style",n="display: block; width: "+e[1]+"px; height: "+e[2]+"px;"+(e[3]?` ${e[3]}`:"")),d(t,"width",s=e[1]*e[0]),d(t,"height",r=e[2]*e[0]),Fe(i,"display","none")},m(h,p){z(h,t,p),e[14](t),z(h,o,p),z(h,i,p),f&&f.m(i,null),e[15](i),l=!0,a||(c=Le(e[6].call(null,t)),a=!0)},p(h,[p]){(!l||p&14&&n!==(n="display: block; width: "+h[1]+"px; height: "+h[2]+"px;"+(h[3]?` ${h[3]}`:"")))&&d(t,"style",n),(!l||p&3&&s!==(s=h[1]*h[0]))&&d(t,"width",s),(!l||p&5&&r!==(r=h[2]*h[0]))&&d(t,"height",r),f&&f.p&&(!l||p&4096)&&te(f,u,h,h[12],l?Zt(u,h[12],p,null):ee(h[12]),null)},i(h){l||(T(f,h),l=!0)},o(h){I(f,h),l=!1},d(h){h&&M(t),e[14](null),h&&M(o),h&&M(i),f&&f.d(h),e[15](null),a=!1,c()}}}const Ce={};function hn(e,t,n){let{$$slots:s={},$$scope:r}=t,{width:o=640,height:i=640,pixelRatio:l=void 0,style:a=null,autoclear:c=!0}=t,u,f,h,p,k;const _=un(),w=new cn;function y(){w.redraw()}function $(){return u}function E(){return f}l===void 0&&(typeof window>"u"?l=2:l=window.devicePixelRatio);function C(){w.render({context:f,width:o,height:i,pixelRatio:l,autoclear:c}),h=window.requestAnimationFrame(C)}Ke(Ce,{register:w.register,unregister:w.unregister,redraw:w.redraw}),Ge(()=>{f=u.getContext("2d"),k=new MutationObserver(S),k.observe(p,{childList:!0}),S(),C();function S(){const ut=[...p.children].map(q=>+q.dataset.layerId);n(11,w.layerSequence=ut,w),w.redraw()}}),$e(()=>{typeof window>"u"||(window.cancelAnimationFrame(h),k.disconnect())});function H(S){nt[S?"unshift":"push"](()=>{u=S,n(4,u)})}function W(S){nt[S?"unshift":"push"](()=>{p=S,n(5,p)})}return e.$$set=S=>{"width"in S&&n(1,o=S.width),"height"in S&&n(2,i=S.height),"pixelRatio"in S&&n(0,l=S.pixelRatio),"style"in S&&n(3,a=S.style),"autoclear"in S&&n(7,c=S.autoclear),"$$scope"in S&&n(12,r=S.$$scope)},e.$$.update=()=>{e.$$.dirty&2183&&w.resize()},[l,o,i,a,u,p,_,c,y,$,E,w,r,s,H,W]}class dn extends tt{constructor(t){super(),Z(this,t,hn,fn,G,{width:1,height:2,pixelRatio:0,style:3,autoclear:7,redraw:8,getCanvas:9,getContext:10})}get redraw(){return this.$$.ctx[8]}get getCanvas(){return this.$$.ctx[9]}get getContext(){return this.$$.ctx[10]}}function pn(e){let t;return{c(){t=b("div"),d(t,"data-layer-id",e[0])},m(n,s){z(n,t,s)},p:R,i:R,o:R,d(n){n&&M(t)}}}function mn(e,t,n){const{register:s,unregister:r,redraw:o}=Ue(Ce);let{setup:i=void 0,render:l=()=>{}}=t;if(typeof i!="function"&&i!==void 0)throw new Error("setup must be a function");if(typeof l!="function")throw new Error("render must be a function");const a=s({setup:i,render:l});return $e(()=>r(a)),e.$$set=c=>{"setup"in c&&n(1,i=c.setup),"render"in c&&n(2,l=c.render)},e.$$.update=()=>{e.$$.dirty&4&&o()},[a,i,l]}class gn extends tt{constructor(t){super(),Z(this,t,mn,pn,G,{setup:1,render:2})}}const _t=[];function _n(e,t){return{subscribe:vt(e,t).subscribe}}function vt(e,t=R){let n;const s=new Set;function r(l){if(G(e,l)&&(e=l,n)){const a=!_t.length;for(const c of s)c[1](),_t.push(c,e);if(a){for(let c=0;c<_t.length;c+=2)_t[c][0](_t[c+1]);_t.length=0}}}function o(l){r(l(e))}function i(l,a=R){const c=[l,a];return s.add(c),s.size===1&&(n=t(r)||R),l(e),()=>{s.delete(c),s.size===0&&(n(),n=null)}}return{set:r,update:o,subscribe:i}}let ce;const Te=Date.now();function Ee(e){return e(Date.now()-Te),ce=window.requestAnimationFrame(()=>Ee(e)),()=>window.cancelAnimationFrame(ce)}function bn(){}_n(Date.now()-Te,typeof window>"u"?bn:Ee);const wn="/jigsaw-svelte/assets/puzzle.7b2c6e4e.wav";class yn{constructor(t,n,s,r,o,i){this.width=o,this.height=i,this.i=t,this.j=n,this.correctPos={x:s.x,y:s.y},this.currentPos={x:r.x,y:r.y},this.path=null,this.borderpath=null,this.shape={},this.solved=!1}draw(t,n,s,r,o=r){const i=Math.min(this.width,this.height),l=.08*i,a=.2*i,c=.2*i;let u=this.currentPos.x+s;this.path=new Path2D,this.path.moveTo(u,this.currentPos.y),this.shape.top&&(this.path.lineTo(u+this.width*Math.abs(this.shape.top)-l,this.currentPos.y),this.path.bezierCurveTo(u+this.width*Math.abs(this.shape.top)-l,this.currentPos.y-c*Math.sign(this.shape.top)*.2,u+this.width*Math.abs(this.shape.top)-a,this.currentPos.y-c*Math.sign(this.shape.top),u+this.width*Math.abs(this.shape.top),this.currentPos.y-c*Math.sign(this.shape.top)),this.path.bezierCurveTo(u+this.width*Math.abs(this.shape.top)+a,this.currentPos.y-c*Math.sign(this.shape.top),u+this.width*Math.abs(this.shape.top)+l,this.currentPos.y-c*Math.sign(this.shape.top)*.2,u+this.width*Math.abs(this.shape.top)+l,this.currentPos.y)),this.path.lineTo(u+this.width,this.currentPos.y),this.shape.right&&(this.path.lineTo(u+this.width,this.currentPos.y+this.height*Math.abs(this.shape.right)-l),this.path.bezierCurveTo(u+this.width-c*Math.sign(this.shape.right)*.2,this.currentPos.y+this.height*Math.abs(this.shape.right)-l,u+this.width-c*Math.sign(this.shape.right),this.currentPos.y+this.height*Math.abs(this.shape.right)-a,u+this.width-c*Math.sign(this.shape.right),this.currentPos.y+this.height*Math.abs(this.shape.right)),this.path.bezierCurveTo(u+this.width-c*Math.sign(this.shape.right),this.currentPos.y+this.height*Math.abs(this.shape.right)+a,u+this.width-c*Math.sign(this.shape.right)*.2,this.currentPos.y+this.height*Math.abs(this.shape.right)+l,u+this.width,this.currentPos.y+this.height*Math.abs(this.shape.right)+l)),this.path.lineTo(u+this.width,this.currentPos.y+this.height),this.shape.bottom&&(this.path.lineTo(u+this.width*Math.abs(this.shape.bottom)+l,this.currentPos.y+this.height),this.path.bezierCurveTo(u+this.width*Math.abs(this.shape.bottom)+l,this.currentPos.y+this.height+c*Math.sign(this.shape.bottom)*.2,u+this.width*Math.abs(this.shape.bottom)+a,this.currentPos.y+this.height+c*Math.sign(this.shape.bottom),u+this.width*Math.abs(this.shape.bottom),this.currentPos.y+this.height+c*Math.sign(this.shape.bottom)),this.path.bezierCurveTo(u+this.width*Math.abs(this.shape.bottom)-a,this.currentPos.y+this.height+c*Math.sign(this.shape.bottom),u+this.width*Math.abs(this.shape.bottom)-l,this.currentPos.y+this.height+c*Math.sign(this.shape.bottom)*.2,u+this.width*Math.abs(this.shape.bottom)-l,this.currentPos.y+this.height)),this.path.lineTo(u,this.currentPos.y+this.height),this.shape.left&&(this.path.lineTo(u,this.currentPos.y+this.height*Math.abs(this.shape.left)+l),this.path.bezierCurveTo(u+c*Math.sign(this.shape.left)*.2,this.currentPos.y+this.height*Math.abs(this.shape.left)+l,u+c*Math.sign(this.shape.left),this.currentPos.y+this.height*Math.abs(this.shape.left)+a,u+c*Math.sign(this.shape.left),this.currentPos.y+this.height*Math.abs(this.shape.left)),this.path.bezierCurveTo(u+c*Math.sign(this.shape.left),this.currentPos.y+this.height*Math.abs(this.shape.left)-a,u+c*Math.sign(this.shape.left)*.2,this.currentPos.y+this.height*Math.abs(this.shape.left)-l,u,this.currentPos.y+this.height*Math.abs(this.shape.left)-l)),this.path.lineTo(u,this.currentPos.y),t.save(),t.clip(this.path);let f=n.naturalWidth/o,h=n.naturalHeight/r,p=Math.min(f,h)*c/i;t.drawImage(n,this.i*f-p,this.j*h-p,f+p*2,h+p*2,u-c,this.currentPos.y-c,this.width+c*2,this.height+c*2),t.restore(),t.stroke(this.path)}}const ft=vt(5),At=vt(.4),Ut=vt(null),Tt=vt(!1),Ht=vt(!1),{window:Qt}=rn;function vn(e){let t,n;return t=new gn({props:{render:e[4],setup:e[10]}}),{c(){st(t.$$.fragment)},m(s,r){Q(t,s,r),n=!0},p(s,r){const o={};r[0]&16&&(o.render=s[4]),t.$set(o)},i(s){n||(T(t.$$.fragment,s),n=!0)},o(s){I(t.$$.fragment,s),n=!1},d(s){V(t,s)}}}function kn(e){let t,n,s,r,o,i,l,a;U(e[15]);let c={width:e[0],height:e[5],style:"margin: 0 auto; touch-action: none;border: 1px solid black; cursor: "+e[1]+";",$$slots:{default:[vn]},$$scope:{ctx:e}};return t=new dn({props:c}),e[16](t),t.$on("mousedown",e[17]),t.$on("mousemove",e[18]),t.$on("mouseup",e[19]),t.$on("touchstart",e[20]),t.$on("touchmove",e[21]),t.$on("touchend",e[22]),{c(){st(t.$$.fragment),n=j(),s=b("audio"),r=b("track"),d(r,"kind","captions"),dt(s.src,o=wn)||d(s,"src",o),d(s,"preload","auto"),d(s,"class","hidden"),s.controls=!0},m(u,f){Q(t,u,f),z(u,n,f),z(u,s,f),g(s,r),e[23](s),i=!0,l||(a=[B(Qt,"resize",e[9]),B(Qt,"resize",e[15])],l=!0)},p(u,f){const h={};f[0]&1&&(h.width=u[0]),f[0]&2&&(h.style="margin: 0 auto; touch-action: none;border: 1px solid black; cursor: "+u[1]+";"),f[0]&16|f[1]&512&&(h.$$scope={dirty:f,ctx:u}),t.$set(h)},i(u){i||(T(t.$$.fragment,u),i=!0)},o(u){I(t.$$.fragment,u),i=!1},d(u){e[16](null),V(t,u),u&&M(n),u&&M(s),e[23](null),l=!1,it(a)}}}const Mn=.7;function Pn(e,t,n){let s,{img:r}=t,o;ft.subscribe(m=>{o=m});let i;At.subscribe(m=>{n(12,i=m)}),window.devicePixelRatio=1;const l=o,a=o;let c=window.innerWidth;const u=window.innerHeight,f=Mn*Math.min(c/r.naturalWidth,u/r.naturalHeight),h=f*r.naturalWidth,p=f*r.naturalHeight;let k=c/2-h/2,_=[],w,y,$=0,E="default";function C(m,P,O){for(let x=0;x<m.length;x++)m[x].currentPos.x=Math.floor(Math.random()*P)-k,m[x].currentPos.y=Math.floor(Math.random()*O)}let H;function W(m,P,O=null){let x=H.getContext();for(let F=_.length-1;F>=0;F--)if(x.isPointInPath(_[F].path,m,P)){y=_[F];break}if(y){O&&O.preventDefault(),n(1,E="grab"),w={x:m-y.currentPos.x,y:P-y.currentPos.y};let F=_.splice(_.findIndex(X=>X.j==y.j&&X.i==y.i),1);_.push(F[0]),n(14,_)}}function S(m,P,O=null){w&&(O&&O.preventDefault(),y.currentPos.x=m-w.x,y.currentPos.y=P-w.y,n(14,_))}function ut(){$===_.length&&Tt.update(P=>!0)}let q;function mt(){let m=null;if(y){n(1,E="default");let P=30;const O=_.findIndex(x=>x.j==y.j&&x.i==y.i);if(Math.abs(y.currentPos.x-y.correctPos.x)<P&&Math.abs(y.currentPos.y-y.correctPos.y)<P){q.play(),m=setTimeout(()=>{q.pause(),n(3,q.currentTime=0,q)},500),y.currentPos.x=y.correctPos.x,y.currentPos.y=y.correctPos.y;let x=_.splice(O,1);y.solved||(x[0].solved=!0,$=$+1),m&&clearTimeout(m),_.unshift(x[0]),n(14,_)}else y.solved&&(n(14,_[O].solved=!1,_),$=$-1);w=null,y=null}ut()}function ct(){n(13,k=c/2-h/2),H.redraw()}let et;function gt(){clearTimeout(et),et=setTimeout(ct,100)}const rt=({context:m,width:P,height:O})=>{for(let F=0;F<a;F++)for(let X=0;X<l;X++){let Mt=F*h/a,Pt=O/2-p/2+X*p/l,J=new yn(F,X,{x:Mt,y:Pt},{x:Mt,y:Pt},h/a,p/l);_.push(J)}let x=0;for(let F=0;F<a;F++)for(let X=0;X<l;X++){let Mt=X,Pt=F,J=_[x];if(Mt==l-1)J.shape.bottom=null;else{let Xt=Math.random()-.5<0?-1:1;J.shape.bottom=Xt*(Math.random()*.4+.3)}if(Pt==a-1)J.shape.right=null;else{let Xt=Math.random()-.5<0?-1:1;J.shape.right=Xt*(Math.random()*.4+.3)}Mt==0?J.shape.top=null:J.shape.top=-_[x-1].shape.bottom,Pt==0?J.shape.left=null:J.shape.left=-_[x-l].shape.right,x++}C(_,P-h/a,O-p/l)};function kt(){n(0,c=Qt.innerWidth)}function jt(m){nt[m?"unshift":"push"](()=>{H=m,n(2,H)})}const N=m=>{W(m.offsetX,m.offsetY)},ot=m=>{S(m.offsetX,m.offsetY)},A=()=>{mt()},Rt=m=>W(m.touches[0].clientX,m.touches[0].clientY,m),lt=m=>{S(m.touches[0].clientX,m.touches[0].clientY,m)},D=()=>{mt()};function v(m){nt[m?"unshift":"push"](()=>{q=m,n(3,q)})}return e.$$set=m=>{"img"in m&&n(11,r=m.img)},e.$$.update=()=>{e.$$.dirty[0]&30720&&n(4,s=({context:m,width:P,height:O})=>{m.globalAlpha=i,m.drawImage(r,P/2-h/2,O/2-p/2,h,p),m.globalAlpha=1,i==0&&(m.beginPath(),m.rect(P/2-h/2,O/2-p/2,h,p),m.stroke());for(let x=0;x<_.length;x++)_[x].draw(m,r,k,l)})},[c,E,H,q,s,u,W,S,mt,gt,rt,r,i,k,_,kt,jt,N,ot,A,Rt,lt,D,v]}class zn extends tt{constructor(t){super(),Z(this,t,Pn,kn,G,{img:11},null,[-1,-1])}}function je(e){const t=e-1;return t*t*t+1}function $n(e,{delay:t=0,duration:n=400,easing:s=Yt}={}){const r=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:s,css:o=>`opacity: ${o*r}`}}function fe(e,{delay:t=0,duration:n=400,easing:s=je}={}){const r=getComputedStyle(e),o=+r.opacity,i=parseFloat(r.height),l=parseFloat(r.paddingTop),a=parseFloat(r.paddingBottom),c=parseFloat(r.marginTop),u=parseFloat(r.marginBottom),f=parseFloat(r.borderTopWidth),h=parseFloat(r.borderBottomWidth);return{delay:t,duration:n,easing:s,css:p=>`overflow: hidden;opacity: ${Math.min(p*20,1)*o};height: ${p*i}px;padding-top: ${p*l}px;padding-bottom: ${p*a}px;margin-top: ${p*c}px;margin-bottom: ${p*u}px;border-top-width: ${p*f}px;border-bottom-width: ${p*h}px;`}}function Sn(e,{delay:t=0,duration:n=400,easing:s=je,start:r=0,opacity:o=0}={}){const i=getComputedStyle(e),l=+i.opacity,a=i.transform==="none"?"":i.transform,c=1-r,u=l*(1-o);return{delay:t,duration:n,easing:s,css:(f,h)=>`
			transform: ${a} scale(${1-c*h});
			opacity: ${l-u*h}
		`}}function Cn(e){let t,n,s,r,o,i,l,a,c;const u=e[2].default,f=Vt(u,e,e[1],null);return{c(){t=b("div"),n=b("span"),n.textContent="\u2715",s=j(),r=b("div"),f&&f.c(),d(n,"class","btn cursor-pointer self-end p-0 text-2xl font-bold"),d(r,"class","grid place-items-center gap-3"),d(t,"class","fixed top-1/2 left-1/2 flex min-h-screen w-full -translate-x-1/2 -translate-y-1/2 flex-col items-center gap-4 bg-surface-50 p-8 shadow-xl text-token dark:bg-surface-800 xs:min-h-[30rem] xs:max-w-[30rem] xs:rounded-lg")},m(h,p){z(h,t,p),g(t,n),g(t,s),g(t,r),f&&f.m(r,null),l=!0,a||(c=B(n,"click",e[0]),a=!0)},p(h,[p]){f&&f.p&&(!l||p&2)&&te(f,u,h,h[1],l?Zt(u,h[1],p,null):ee(h[1]),null)},i(h){l||(T(f,h),U(()=>{i&&i.end(1),o=nn(t,Sn,{}),o.start()}),l=!0)},o(h){I(f,h),o&&o.invalidate(),i=sn(t,$n,{}),l=!1},d(h){h&&M(t),f&&f.d(h),h&&i&&i.end(),a=!1,c()}}}function Tn(e,t,n){let{$$slots:s={},$$scope:r}=t;const o=Je(),i=()=>o("close");return e.$$set=l=>{"$$scope"in l&&n(1,r=l.$$scope)},[i,r,s]}class En extends tt{constructor(t){super(),Z(this,t,Tn,Cn,G,{})}}function he(e){let t,n,s;const r=e[3].default,o=Vt(r,e,e[2],null);return{c(){t=b("div"),o&&o.c(),d(t,"class","mt-2 mb-4")},m(i,l){z(i,t,l),o&&o.m(t,null),s=!0},p(i,l){o&&o.p&&(!s||l&4)&&te(o,r,i,i[2],s?Zt(r,i[2],l,null):ee(i[2]),null)},i(i){s||(T(o,i),U(()=>{n||(n=ue(t,fe,{},!0)),n.run(1)}),s=!0)},o(i){I(o,i),n||(n=ue(t,fe,{},!1)),n.run(0),s=!1},d(i){i&&M(t),o&&o.d(i),i&&n&&n.end()}}}function jn(e){let t,n,s,r,o,i,l=e[0]&&he(e);return{c(){t=b("section"),n=b("span"),n.textContent="\u2022\u2022\u2022",s=j(),l&&l.c(),d(n,"class","text-token"),d(t,"class","xs: absolute top-0 left-0 cursor-pointer rounded-br-lg bg-surface-900/50 py-1 px-4 text-lg transition-all duration-300")},m(a,c){z(a,t,c),g(t,n),g(t,s),l&&l.m(t,null),r=!0,o||(i=B(t,"click",e[1]),o=!0)},p(a,[c]){a[0]?l?(l.p(a,c),c&1&&T(l,1)):(l=he(a),l.c(),T(l,1),l.m(t,null)):l&&(Wt(),I(l,1,1,()=>{l=null}),Nt())},i(a){r||(T(l),r=!0)},o(a){I(l),r=!1},d(a){a&&M(t),l&&l.d(),o=!1,i()}}}function Rn(e,t,n){let{$$slots:s={},$$scope:r}=t,o=!1;function i(){n(0,o=!o)}return e.$$set=l=>{"$$scope"in l&&n(2,r=l.$$scope)},[o,i,r,s]}class xn extends tt{constructor(t){super(),Z(this,t,Rn,jn,G,{})}}const de=e=>{const t=i=>String(i).padStart(2,"0");let n=e%1e3;e=(e-n)/1e3;let s=e%60;e=(e-s)/60;let r=e%60,o=(e-r)/60;return`${t(o)}:${t(r)}:${t(s)}.${t(n)}`},In=async()=>{let e=Math.floor(Math.random()*1e3);const t=await fetch(`https://picsum.photos/id/${e}/1200`);return t.status==404&&console.log("error fetching image"),{imageID:e,url:t.url}};function Ln(e){let t,n,s,r;return{c(){t=wt("svg"),n=wt("line"),s=wt("polyline"),d(n,"x1","19"),d(n,"y1","12"),d(n,"x2","5"),d(n,"y2","12"),d(s,"points","12 19 5 12 12 5"),d(t,"xmlns","http://www.w3.org/2000/svg"),d(t,"width",e[0]),d(t,"height",e[0]),d(t,"fill","none"),d(t,"viewBox","0 0 24 24"),d(t,"stroke","currentColor"),d(t,"stroke-width",e[1]),d(t,"stroke-linecap","round"),d(t,"stroke-linejoin","round"),d(t,"class",r="feather feather-arrow-left "+e[2])},m(o,i){z(o,t,i),g(t,n),g(t,s)},p(o,[i]){i&1&&d(t,"width",o[0]),i&1&&d(t,"height",o[0]),i&2&&d(t,"stroke-width",o[1]),i&4&&r!==(r="feather feather-arrow-left "+o[2])&&d(t,"class",r)},i:R,o:R,d(o){o&&M(t)}}}function On(e,t,n){let{size:s="24"}=t,{strokeWidth:r=2}=t,{class:o=""}=t;return s!=="100%"&&(s=s.slice(-1)==="x"?s.slice(0,s.length-1)+"em":parseInt(s)+"px"),e.$$set=i=>{"size"in i&&n(0,s=i.size),"strokeWidth"in i&&n(1,r=i.strokeWidth),"class"in i&&n(2,o=i.class)},[s,r,o]}class Wn extends tt{constructor(t){super(),Z(this,t,On,Ln,G,{size:0,strokeWidth:1,class:2})}}function Nn(e){let t,n,s,r;return{c(){t=wt("svg"),n=wt("line"),s=wt("polyline"),d(n,"x1","5"),d(n,"y1","12"),d(n,"x2","19"),d(n,"y2","12"),d(s,"points","12 5 19 12 12 19"),d(t,"xmlns","http://www.w3.org/2000/svg"),d(t,"width",e[0]),d(t,"height",e[0]),d(t,"fill","none"),d(t,"viewBox","0 0 24 24"),d(t,"stroke","currentColor"),d(t,"stroke-width",e[1]),d(t,"stroke-linecap","round"),d(t,"stroke-linejoin","round"),d(t,"class",r="feather feather-arrow-right "+e[2])},m(o,i){z(o,t,i),g(t,n),g(t,s)},p(o,[i]){i&1&&d(t,"width",o[0]),i&1&&d(t,"height",o[0]),i&2&&d(t,"stroke-width",o[1]),i&4&&r!==(r="feather feather-arrow-right "+o[2])&&d(t,"class",r)},i:R,o:R,d(o){o&&M(t)}}}function An(e,t,n){let{size:s="24"}=t,{strokeWidth:r=2}=t,{class:o=""}=t;return s!=="100%"&&(s=s.slice(-1)==="x"?s.slice(0,s.length-1)+"em":parseInt(s)+"px"),e.$$set=i=>{"size"in i&&n(0,s=i.size),"strokeWidth"in i&&n(1,r=i.strokeWidth),"class"in i&&n(2,o=i.class)},[s,r,o]}class Dn extends tt{constructor(t){super(),Z(this,t,An,Nn,G,{size:0,strokeWidth:1,class:2})}}function pe(e,t,n){const s=e.slice();return s[17]=t[n],s}function me(e){let t,n;return{c(){t=b("img"),dt(t.src,n=e[0])||d(t,"src",n),d(t,"alt","puzzle preview"),d(t,"class","mx-auto w-full max-w-xs")},m(s,r){z(s,t,r)},p(s,r){r&1&&!dt(t.src,n=s[0])&&d(t,"src",n)},d(s){s&&M(t)}}}function ge(e){let t,n=e[17]+"",s;return{c(){t=b("option"),s=L(n),t.__value=e[17],t.value=t.__value},m(r,o){z(r,t,o),g(t,s)},p:R,d(r){r&&M(t)}}}function qn(e){let t,n,s,r,o,i;return{c(){t=b("p"),n=L("Selected Hard ("),s=L(e[4]),r=L(" x "),o=L(e[4]),i=L(")")},m(l,a){z(l,t,a),g(t,n),g(t,s),g(t,r),g(t,o),g(t,i)},p(l,a){a&16&&pt(s,l[4]),a&16&&pt(o,l[4])},d(l){l&&M(t)}}}function Fn(e){let t,n,s,r,o,i;return{c(){t=b("p"),n=L("Selected Medium ("),s=L(e[4]),r=L(" x "),o=L(e[4]),i=L(")")},m(l,a){z(l,t,a),g(t,n),g(t,s),g(t,r),g(t,o),g(t,i)},p(l,a){a&16&&pt(s,l[4]),a&16&&pt(o,l[4])},d(l){l&&M(t)}}}function Bn(e){let t,n,s,r,o,i;return{c(){t=b("p"),n=L("Selected Easy ("),s=L(e[4]),r=L(" x "),o=L(e[4]),i=L(")")},m(l,a){z(l,t,a),g(t,n),g(t,s),g(t,r),g(t,o),g(t,i)},p(l,a){a&16&&pt(s,l[4]),a&16&&pt(o,l[4])},d(l){l&&M(t)}}}function Hn(e){let t,n,s,r,o,i,l,a,c,u,f,h,p,k,_,w,y,$,E,C,H,W,S,ut,q,mt,ct,et,gt,rt,kt,jt,N=e[0]&&me(e);_=new Dn({props:{size:"34",class:"cursor-pointer text-token"}});let ot=e[5],A=[];for(let v=0;v<ot.length;v+=1)A[v]=ge(pe(e,ot,v));function Rt(v,m){if(v[2]==="Easy")return Bn;if(v[2]==="Medium")return Fn;if(v[2]==="Hard")return qn}let lt=Rt(e),D=lt&&lt(e);return et=new Wn({props:{size:"34",class:"cursor-pointer text-token"}}),{c(){t=b("main"),n=b("div"),s=b("form"),r=b("input"),o=j(),i=b("div"),l=b("button"),l.textContent="Select image",a=j(),c=b("p"),c.textContent="OR",u=j(),f=b("button"),f.textContent="Solve random image",h=j(),N&&N.c(),p=j(),k=b("button"),st(_.$$.fragment),y=j(),$=b("div"),E=b("label"),C=b("span"),C.textContent="Select difficulty:",H=j(),W=b("select");for(let v=0;v<A.length;v+=1)A[v].c();S=j(),D&&D.c(),ut=j(),q=b("button"),q.textContent="New Game",mt=j(),ct=b("button"),st(et.$$.fragment),d(r,"type","file"),d(r,"id","img"),d(r,"name","img"),d(r,"class","hidden"),d(r,"accept","image/*"),d(s,"class",""),d(l,"class","btn btn-base btn-filled-primary min-w-[12rem]"),d(f,"class","btn btn-base btn-filled-primary min-w-[12rem]"),d(i,"class","mb-6 flex min-w-full flex-col flex-wrap items-center justify-center gap-3 sm:flex-row"),d(k,"class","btn absolute bottom-0 right-0 p-0"),d(n,"class",w=`relative min-w-full pb-10 transition-transform xs:pb-0 ${e[3]?"translate-x-[calc(-100%-10rem)]":"translate-x-0"}`),d(W,"class","cursor-pointer p-1"),e[2]===void 0&&U(()=>e[13].call(W)),d(E,"class","mb-2"),d(q,"class","btn btn-base btn-filled-primary mt-8 w-full"),d(ct,"class","btn absolute bottom-0 left-0 p-0"),d($,"class",gt=`relative min-w-full transition-transform ${e[3]?"translate-x-[calc(-100%-2rem)]":"translate-x-0"}`),d(t,"class","mx-3 flex min-h-[30rem] w-[calc(100vw-1.5rem)] gap-8 overflow-hidden rounded-lg bg-surface-50 p-8 dark:bg-surface-800 xs:mx-auto xs:max-w-lg")},m(v,m){z(v,t,m),g(t,n),g(n,s),g(s,r),e[9](r),g(n,o),g(n,i),g(i,l),g(i,a),g(i,c),g(i,u),g(i,f),g(n,h),N&&N.m(n,null),g(n,p),g(n,k),Q(_,k,null),g(t,y),g(t,$),g($,E),g(E,C),g(E,H),g(E,W);for(let P=0;P<A.length;P+=1)A[P].m(W,null);ae(W,e[2]),g($,S),D&&D.m($,null),g($,ut),g($,q),g($,mt),g($,ct),Q(et,ct,null),rt=!0,kt||(jt=[B(r,"change",e[10]),B(l,"click",De(e[11])),B(f,"click",e[12]),B(k,"click",e[8]),B(W,"change",e[13]),B(W,"click",e[6]),B(q,"click",e[7]),B(ct,"click",e[8])],kt=!0)},p(v,[m]){if(v[0]?N?N.p(v,m):(N=me(v),N.c(),N.m(n,p)):N&&(N.d(1),N=null),(!rt||m&8&&w!==(w=`relative min-w-full pb-10 transition-transform xs:pb-0 ${v[3]?"translate-x-[calc(-100%-10rem)]":"translate-x-0"}`))&&d(n,"class",w),m&32){ot=v[5];let P;for(P=0;P<ot.length;P+=1){const O=pe(v,ot,P);A[P]?A[P].p(O,m):(A[P]=ge(O),A[P].c(),A[P].m(W,null))}for(;P<A.length;P+=1)A[P].d(1);A.length=ot.length}m&36&&ae(W,v[2]),lt===(lt=Rt(v))&&D?D.p(v,m):(D&&D.d(1),D=lt&&lt(v),D&&(D.c(),D.m($,ut))),(!rt||m&8&&gt!==(gt=`relative min-w-full transition-transform ${v[3]?"translate-x-[calc(-100%-2rem)]":"translate-x-0"}`))&&d($,"class",gt)},i(v){rt||(T(_.$$.fragment,v),T(et.$$.fragment,v),rt=!0)},o(v){I(_.$$.fragment,v),I(et.$$.fragment,v),rt=!1},d(v){v&&M(t),e[9](null),N&&N.d(),V(_),Ne(A,v),D&&D.d(),V(et),kt=!1,it(jt)}}}function Yn(e,t,n){let s,r,o,i;at(e,Ut,C=>n(14,s=C)),at(e,Ht,C=>n(15,r=C)),at(e,Tt,C=>n(16,o=C)),at(e,ft,C=>n(4,i=C));let{jigsawSrc:l}=t,a;const c=["Easy","Medium","Hard","debug"];let u=c[0];Y(ft,i=5,i);function f(){u==="Easy"?Y(ft,i=5,i):u==="Medium"?Y(ft,i=7,i):u==="Hard"?Y(ft,i=10,i):u==="debug"&&Y(ft,i=2,i)}function h(){l&&(Y(Tt,o=!1,o),Y(Ht,r=!0,r),Y(Ut,s=new Date,s))}let p=!1;function k(){n(3,p=!p)}function _(C){nt[C?"unshift":"push"](()=>{a=C,n(1,a)})}const w=C=>{let H=C.target.form[0].files[0];H&&n(0,l=URL.createObjectURL(H))},y=()=>{a.click()},$=async()=>n(0,{url:l}=await In(),l);function E(){u=Be(this),n(2,u),n(5,c)}return e.$$set=C=>{"jigsawSrc"in C&&n(0,l=C.jigsawSrc)},[l,a,u,p,i,c,f,h,k,_,w,y,$,E]}class Xn extends tt{constructor(t){super(),Z(this,t,Yn,Hn,G,{jigsawSrc:0})}}function Gn(e){let t,n,s,r,o,i;return{c(){t=b("label"),n=b("input"),s=j(),r=b("p"),r.textContent="Background image",d(n,"type","checkbox"),n.checked=!0,d(n,"id","switch"),d(n,"class","checkbox"),d(t,"for","switch"),d(t,"class","unstyled mt-4 flex gap-2")},m(l,a){z(l,t,a),g(t,n),g(t,s),g(t,r),o||(i=B(n,"click",e[0]),o=!0)},p:R,i:R,o:R,d(l){l&&M(t),o=!1,i()}}}function Jn(e,t,n){let s;at(e,At,o=>n(1,s=o));function r(){s>0?Y(At,s=0,s):Y(At,s=.4,s)}return[r]}class Kn extends tt{constructor(t){super(),Z(this,t,Jn,Gn,G,{})}}function _e(e){let t,n,s;function r(i){e[6](i)}let o={};return e[0]!==void 0&&(o.jigsawSrc=e[0]),t=new Xn({props:o}),nt.push(()=>on(t,"jigsawSrc",r)),{c(){st(t.$$.fragment)},m(i,l){Q(t,i,l),s=!0},p(i,l){const a={};!n&&l&1&&(n=!0,a.jigsawSrc=i[0],tn(()=>n=!1)),t.$set(a)},i(i){s||(T(t.$$.fragment,i),s=!0)},o(i){I(t.$$.fragment,i),s=!1},d(i){V(t,i)}}}function be(e){let t,n,s,r;return t=new zn({props:{img:e[1]}}),s=new xn({props:{$$slots:{default:[Un]},$$scope:{ctx:e}}}),{c(){st(t.$$.fragment),n=j(),st(s.$$.fragment)},m(o,i){Q(t,o,i),z(o,n,i),Q(s,o,i),r=!0},p(o,i){const l={};i&2&&(l.img=o[1]),t.$set(l);const a={};i&257&&(a.$$scope={dirty:i,ctx:o}),s.$set(a)},i(o){r||(T(t.$$.fragment,o),T(s.$$.fragment,o),r=!0)},o(o){I(t.$$.fragment,o),I(s.$$.fragment,o),r=!1},d(o){V(t,o),o&&M(n),V(s,o)}}}function Un(e){let t,n,s,r,o,i,l,a,c;return r=new Kn({}),{c(){t=b("img"),s=j(),st(r.$$.fragment),o=j(),i=b("button"),i.textContent="New Game",dt(t.src,n=e[0])||d(t,"src",n),d(t,"alt","solved jigsaw"),d(t,"class","max-h-[75vh] w-full xs:max-w-md"),d(i,"class","btn btn-base btn-filled-primary mt-4 w-full")},m(u,f){z(u,t,f),z(u,s,f),Q(r,u,f),z(u,o,f),z(u,i,f),l=!0,a||(c=B(i,"click",e[5]),a=!0)},p(u,f){(!l||f&1&&!dt(t.src,n=u[0]))&&d(t,"src",n)},i(u){l||(T(r.$$.fragment,u),l=!0)},o(u){I(r.$$.fragment,u),l=!1},d(u){u&&M(t),u&&M(s),V(r,u),u&&M(o),u&&M(i),a=!1,c()}}}function we(e){let t,n;return t=new En({props:{$$slots:{default:[Qn]},$$scope:{ctx:e}}}),t.$on("close",e[5]),{c(){st(t.$$.fragment)},m(s,r){Q(t,s,r),n=!0},p(s,r){const o={};r&272&&(o.$$scope={dirty:r,ctx:s}),t.$set(o)},i(s){n||(T(t.$$.fragment,s),n=!0)},o(s){I(t.$$.fragment,s),n=!1},d(s){V(t,s)}}}function Qn(e){let t,n,s,r,o=de(new Date-e[4])+"",i;return{c(){t=b("p"),t.textContent="Puzzle solved!",n=j(),s=b("p"),r=L("Your time: "),i=L(o),d(t,"class","!text-xl"),d(s,"class","text-sm font-semibold md:text-2xl")},m(l,a){z(l,t,a),z(l,n,a),z(l,s,a),g(s,r),g(s,i)},p(l,a){a&16&&o!==(o=de(new Date-l[4])+"")&&pt(i,o)},d(l){l&&M(t),l&&M(n),l&&M(s)}}}function Vn(e){let t,n,s,r,o,i,l,a=!e[3]&&_e(e),c=e[3]&&be(e),u=e[2]&&we(e);return{c(){a&&a.c(),t=j(),n=b("img"),r=j(),c&&c.c(),o=j(),u&&u.c(),i=Ae(),dt(n.src,s=e[0])||d(n,"src",s),d(n,"class","hidden"),d(n,"alt",""),d(n,"aria-hidden","true"),d(n,"width","0")},m(f,h){a&&a.m(f,h),z(f,t,h),z(f,n,h),e[7](n),z(f,r,h),c&&c.m(f,h),z(f,o,h),u&&u.m(f,h),z(f,i,h),l=!0},p(f,[h]){f[3]?a&&(Wt(),I(a,1,1,()=>{a=null}),Nt()):a?(a.p(f,h),h&8&&T(a,1)):(a=_e(f),a.c(),T(a,1),a.m(t.parentNode,t)),(!l||h&1&&!dt(n.src,s=f[0]))&&d(n,"src",s),f[3]?c?(c.p(f,h),h&8&&T(c,1)):(c=be(f),c.c(),T(c,1),c.m(o.parentNode,o)):c&&(Wt(),I(c,1,1,()=>{c=null}),Nt()),f[2]?u?(u.p(f,h),h&4&&T(u,1)):(u=we(f),u.c(),T(u,1),u.m(i.parentNode,i)):u&&(Wt(),I(u,1,1,()=>{u=null}),Nt())},i(f){l||(T(a),T(c),T(u),l=!0)},o(f){I(a),I(c),I(u),l=!1},d(f){a&&a.d(f),f&&M(t),f&&M(n),e[7](null),f&&M(r),c&&c.d(f),f&&M(o),u&&u.d(f),f&&M(i)}}}function Zn(e,t,n){let s,r,o;at(e,Tt,f=>n(2,s=f)),at(e,Ht,f=>n(3,r=f)),at(e,Ut,f=>n(4,o=f));let i="",l;function a(){Y(Ht,r=!1,r),Y(Tt,s=!1,s),n(0,i="")}function c(f){i=f,n(0,i)}function u(f){nt[f?"unshift":"push"](()=>{l=f,n(1,l)})}return[i,l,s,r,o,a,c,u]}class ts extends tt{constructor(t){super(),Z(this,t,Zn,Vn,G,{})}}new ts({target:document.getElementById("app")});
